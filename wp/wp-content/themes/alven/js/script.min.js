<<<<<<< HEAD
"use strict";function setBtn(e){var t=e.html();return'<span class="before">'+t+'</span><span class="after">'+t+"</span>"}function setGallery(e,t){function n(){o.each(function(){var e=$(this).width(),n=$(this).offset().left+e;n>t||n<e?$(this).addClass("off"):$(this).removeClass("off")})}function i(e){o.last().hasClass("off")?$("#nextImg").removeClass("hidden"):$("#nextImg").addClass("hidden"),o.eq(0).offset().left>=0?$("#prevImg").addClass("hidden"):$("#prevImg").removeClass("hidden")}function a(t){var a=e.data("x")?e.data("x"):0,s=a;TweenMax.isTweening(e)||(o.each(function(){$(this).offset().left<10?$(this).addClass("hideLeft"):$(this).removeClass("hideLeft")}),s-="right"===t?o.not(".hideLeft").eq(0).offset().left:$(".hideLeft.off").last().offset().left,TweenMax.to(e,.3,{x:s+"px",onComplete:function(){e.data("x",s),n(),i(s)}}))}var o=e.find("div"),s=0,l=e.closest(".container-small").length?e.closest(".container-small"):e.closest(".container");t>767&&!dragGallery?(e.css("opacity",0).imagesLoaded().always(function(){o.each(function(){s+=Math.ceil($(this).width())}),e.width(s).data("width",s),dragGallery=Draggable.create(e,{type:"x",bounds:l,cursor:"grab",throwProps:!0,onDrag:n,onDragStart:function(){e.addClass("grabbing")},onDragEnd:function(){e.removeClass("grabbing")},onThrowComplete:function(){e.data("x",this.x),n(),i(this.x)}}),n(),TweenMax.to(e,.3,{opacity:1})}),$("#nextImg").length||(e.after('<button class="btn-arrow-only left hidden" id="prevImg">Previous image</button><button class="btn-arrow-only" id="nextImg">Next image</button>'),$("#nextImg").on("click",function(e){e.preventDefault(),$(this).blur(),a("right")}),$("#prevImg").on("click",function(e){e.preventDefault(),$(this).blur(),a("left")}))):(void 0!==Draggable.get(e)&&Draggable.get(e).kill(),dragGallery=!1)}var postSidebarTop=0,postSidebarWidth=0,dragGallery=!1,tlHeader=new TimelineMax({paused:!0}).timeScale(4),tlHeaderDone=!1;$(function(){function e(){for(var e=[],t,n=0,i=window.location.search.substr(1).split("&");n<i.length;n++)t=i[n].split("="),e[n]=[unescape(t[0]),t.length>1?unescape(t[1]):""];return e}function t(){!Modernizr.objectfit&&$(".img-fit").length&&$(".img-fit").each(function(){var e=$(this),t=e.find("img").prop("src");t&&e.css("backgroundImage","url("+t+")").addClass("compat-object-fit")})}function n(e){var t=e>I?-1:1;return I=e,t}function i(e){e.css("height",e.data("height")).removeClass("on")}function a(e,t){if(j.length&&L.length&&!N.hasClass("menu-open")&&(j.hasClass("content-career")?W.addClass("fixed"):e>j.offset().top-A-40?W.addClass("fixed"):W.removeClass("fixed"),W.hasClass("fixed")&&(t<0?W.addClass("on"):W.removeClass("on"))),Z.length&&k>700&&H>767){var n=ee-A+200;Z.hasClass("single-on")?n-=400:e>ee-A?Z.addClass("fixed"):Z.removeClass("fixed"),e>n&&(t<0?Z.addClass("on"):Z.removeClass("on"))}if(F.length&&(B.hasClass("single-post")||B.hasClass("page-template-default"))&&j.innerHeight()>k){var i=(e-j.offset().top)/(j.innerHeight()-k);TweenMax.set(F,{scaleX:i})}}function o(e){var t=P.find(".anchor");if(t.length){var n=t.find("a").attr("href"),i=n.indexOf("#");if(i>-1){var a=n.substring(i);if($(a).length){var o=$(a).offset().top;e>=o-200&&e<=o+$(a).outerHeight()-200?t.addClass("current-menu-item"):t.removeClass("current-menu-item")}}}}function s(){function e(){var e=t.eq(0).innerWidth();t.each(function(){var t=$(this).offset().left+e;t>H||t<e?$(this).addClass("off"):$(this).removeClass("off")})}var t=K.find(".spotlight-post"),n=K.find(".container").innerWidth();if(e(),H<n)if(R)R[0].enable();else{var i=Math.round($("#spotlightDrag").find(".spotlight-post").first().innerWidth());R=Draggable.create("#spotlightDrag",{type:"x",bounds:K,cursor:"grab",throwProps:!0,edgeResistance:.9,snap:{x:function(e){return Math.round(e/i)*i}},onDrag:e,onDragStart:function(){K.find(".container").addClass("grabbing")},onDragEnd:function(){K.find(".container").removeClass("grabbing")},onThrowComplete:e})}else R&&(R[0].disable(),TweenMax.set(R,{x:"0px"}))}function l(e){var t=20,n=Q.innerHeight(),i=j.offset().top,a=j.innerHeight();n<a+40&&n+A+20<k?e>=postSidebarTop-A-20?(e+n+A+20>i+a-20?Q.css({top:a-20-n+20,width:postSidebarWidth}).removeClass("fixed").addClass("fixedBot"):Q.css({top:A+20,width:postSidebarWidth}).removeClass("fixedBot").addClass("fixed"),e>(a+i)/2?(Q.find("li").eq(0).find(".img").addClass("off"),Q.find("li").eq(1).find(".img").addClass("on")):(Q.find("li").eq(0).find(".img").removeClass("off"),Q.find("li").eq(1).find(".img").removeClass("on"))):Q.css({top:0,width:postSidebarWidth}).removeClass("fixed fixedBot"):Q.css({top:0}).removeClass("fixed fixedBot")}function r(e){TweenMax.set(e,{opacity:0}),e.each(function(t){new ScrollMagic.Scene({triggerElement:e[t]}).triggerHook(.7).setTween(TweenMax.to($(this),.25,{opacity:1})).addTo(D)})}function d(){TweenMax.set([X.find(".menu-title"),X.find(".menu-subtitle")],{y:"-100%",opacity:0}),TweenMax.set(X.find("li"),{y:"-120%",opacity:0})}function c(e,t,n,i){function a(e,t){var n=c.not(".transfered"),i=Y.find("li").not(".transfered"),o=i.length,s=Math.floor(Math.random()*o);c.find("a").removeClass("on"),n.eq(t).find("a").addClass("off"),_=setTimeout(function(){Y.find("div.grid").hasClass("is-hovered")||n.eq(e).hasClass("cta")||n.eq(e).find("a").addClass("on").removeClass("off")},1500),J=setTimeout(a,3500,s,e)}var o='<div class="grid">',s=0,l=0,r,d=0,c,f=[],h={3:[-1,0,-1],6:[-2,0,0,-1,-1,-1]},p={3:[1,2,0],6:[2,3,4,1,5,0]},m=Math.ceil(t/n),g=[];for(l=0;l<n;l++)g[l]=m+h[n][l];var u=t-g.reduce(function(e,t){return e+t},0);for(l=0;l<u;l++){g[p[n][l%n]]++}var b=3===n?1:3,w=3===n?3:2;if(clearTimeout(_),clearTimeout(J),V.length)for(l;l<V.length;l++)V[l].destroy(!0);for(l=0;l<n;l++)f[l]=[],o+='<div class="po-item-col col-2"></div>';for(o+="</div>",Y.find(".container").append(o);s<t;)for(l=0;l<n;l++){var v="";f[l]++,e.eq(s).length&&g[l]>=f[l]&&(l===b&&f[l]===w&&(v='<div class="po-item cta">'+$("#ctaPortfolio").html()+"</div>"),e.eq(s).hasClass("transfered")?v+='<div class="po-item transfered">'+e.eq(s).html()+"</div>":v+='<div class="po-item">'+e.eq(s).html()+"</div>",Y.find(".po-item-col").eq(l).append(v),s++)}for(TweenMax.set(Y.find(".po-item"),{opacity:0,y:"30%",scale:.8}),l=0;l<t+1;l++)V[l]=new ScrollMagic.Scene({triggerElement:Y.find(".po-item")[l]}).triggerHook(.9).setTween(TweenMax.to(Y.find(".po-item").eq(l),.25,{opacity:1,y:"0%",scale:1})).addTo(D);r=Y.find("div.grid").find(".transfered"),d=r.length,c=Y.find(".po-item"),a(0,-1),c.find("a").on("mouseenter",function(){$(this).closest(".po-item").hasClass("cta")||($(this).closest(".po-item").addClass("link-hovered").closest(".grid").addClass("is-hovered"),c.find("a").removeClass("on"),$(this).removeClass("off"))}).on("mouseleave",function(){$(this).closest(".po-item").removeClass("link-hovered").closest(".grid").removeClass("is-hovered"),$(this).addClass("off")}),i&&setTimeout(function(){$("html, body").animate({scrollTop:E.offset().top},400)},400)}function f(e,t){function n(t){return pe.filter(function(){var n=$(this),i=!0;return e.forEach(function(e){e[0]!==t&&"all"!==e[1]&&i&&-1===$.inArray(e[1],$("a",n).data(e[0]).split(","))&&(i=!1)}),i})}function i(e){var t=[];n(e).each(function(){function e(e){e in t||(t[e]=[]),n.data(e).split(",").forEach(function(n){""!==n&&(t[e][n]=!0)})}var n=$(this).find("a");e("investment"),e("field"),e("footprint")}),Z.find(".dropdown[data-filter="+e+"]").each(function(){var e=$(this),n=e.data("filter");e.find("li").each(function(){var e=$(this),i=e.data(n);"all"!==i&&(t[n]&&i in t[n]?e.removeClass("empty"):e.addClass("empty"))})})}var a,o;a=n(!1),i("investment"),i("field"),i("footprint"),o=a.length,ge=H>767?6:3,Y.find("div.grid").remove(),history.pushState(null,null,t),c(a,o,ge,"scroll")}function h(){var e=$(this);if(!e.hasClass("actif")){var t=[],n=Z.find(".dropdown"),i=window.location.origin+window.location.pathname+"?";e.siblings().removeClass("actif"),e.addClass("actif").clone().prependTo(e.parents(".dropdown")),e.remove(),n.each(function(e){var n=$(this).data("filter");t[e]=[n,$(this).find(".actif").data(n)],0!==e&&(i+="&"),i+=t[e][0]+"="+t[e][1]}),f(t,i)}}function p(e){var t=Z.find(".dropdown");t.each(function(n){var i=t.eq(n);if(void 0!==e[n]){var a=i.find("[data-"+e[n][0]+"="+e[n][1]+"]");a.siblings().removeClass("actif"),a.addClass("actif").clone().prependTo(i),a.remove()}else{var o=i.data("filter");e[n]=[o,i.find(".actif").data(o)]}}),f(e,window.location.href)}function m(){if(H<=979){var e=$(".team > li").length,t=ne.offset().left-20,n=t+ne.width(),i=$(".container-team").width(),a=0,o=0;ne.find("li").hasClass("open")&&(a=ne.find("> li.open").position().left,o=ne.find("> li.open").offset().left),H>767&&e>5?(TweenMax.set([$(".wrapper-btn-glob.btn-prev"),$(".wrapper-btn-glob.btn-next")],{className:"-=open"}),t<-Math.ceil(2*ae)&&TweenMax.set($(".wrapper-btn-glob.btn-prev"),{className:"+=open"}),Math.ceil(n+2*ae)>i&&TweenMax.set($(".wrapper-btn-glob.btn-next"),{className:"+=open"})):H<=767&&e>3&&(TweenMax.set([$(".wrapper-btn-glob.btn-prev"),$(".wrapper-btn-glob.btn-next")],{className:"-=open"}),t<-Math.ceil(ae)&&TweenMax.set($(".wrapper-btn-glob.btn-prev"),{className:"+=open"}),Math.ceil(n+ae)>i&&TweenMax.set($(".wrapper-btn-glob.btn-next"),{className:"+=open"}))}else TweenMax.set($(".wrapper-btn-glob"),{className:"-=open"})}function g(){TweenMax.set($(".wrapper-btn-glob"),{className:"-=open"})}function u(){H<=979?(re=ne.find(".team-member img").eq(0).outerHeight(),TweenMax.set($(".wrapper-btn-glob a"),{top:re/2+"px"}),ie?(H<=767?(ae=$(".container-team").width()/3,oe=ae):(ae=$(".container-team").width()/5,oe=2*ae),TweenMax.set(ne.find("> li"),{width:ae+"px"}),se=0,ne.find("> li").each(function(){se+=$(this).outerWidth()}),se+=2*oe,TweenMax.set(ne,{width:se+"px",padding:"0 "+oe+"px",x:-oe}),le=ae,ie=Draggable.create(".team",{type:"x",bounds:$(".container-team"),cursor:"grab",throwProps:!0,edgeResistance:.9,dragClickables:!0,snap:{x:function(e){return Math.round(e/le)*le}},onDragStart:function(){g();var e=$(".team.member-open > li.open");Ce=$(".desc",e),ye=new TimelineMax,$(window).width()>979?(ye.to(Ce,.25,{opacity:0,visibility:"hidden"}),ye.to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut})):(ye.to(Ie,.25,{opacity:0}),ye.to(Ie,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut})),ye.set(e,{className:"-=open"}),ye.set(ne,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut}),ne.addClass("grabbing")},onDragEnd:function(){ne.removeClass("grabbing")}})):(H<=767?(ae=$(".container-team").width()/3,oe=ae):(ae=$(".container-team").width()/5,oe=2*ae),TweenMax.set(ne.find("> li"),{width:ae+"px"}),se=0,ne.find("> li").each(function(){se+=$(this).outerWidth()}),se+=2*oe,TweenMax.set(ne,{width:se+"px",padding:"0 "+oe+"px",x:-oe}),le=ae,ie=Draggable.create(".team",{type:"x",bounds:$(".container-team"),cursor:"grab",throwProps:!0,edgeResistance:.9,dragClickables:!0,snap:{x:function(e){return Math.round(e/le)*le}},onDragStart:function(){g();var e=$(".team.member-open > li.open");Ce=$(".desc",e),ye=new TimelineMax,H>979?(ye.to(Ce,.25,{opacity:0,visibility:"hidden"}),ye.to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut})):(ye.to(Ie,.25,{opacity:0}),ye.to(Ie,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut})),ye.set(e,{className:"-=open"}),ye.set(ne,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut}),ne.addClass("grabbing")},onDragEnd:function(){ne.removeClass("grabbing")}}))):ie&&(TweenMax.set(ne,{clearProps:"all"}),TweenMax.set(ne.find("> li"),{clearProps:"width"}),ie[0].disable())}function b(e){if($e=e.closest("li"),we=$(".desc",$e),ve=we.outerHeight(),!TweenMax.isTweening(ne.find("li"))&&!TweenMax.isTweening(ne.find(".desc"))&&!TweenMax.isTweening($(".wrapper-btn-glob")))if(ne.hasClass("member-open"))if($e.hasClass("open"))w();else{var t=$(".team.member-open > li.open");Ce=$(".desc",t),ye=new TimelineMax,H>979?(de=ne.offset().top+$e.position().top-120,t.offset().top<$e.offset().top&&(de-=parseFloat(t.css("paddingBottom"))),ye.to(Ce,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),ye.set($e,{className:"+=open"}).add("paddingAnimation").to(t,.5,{paddingBottom:"0",ease:Cubic.easeInOut},"paddingAnimation").to($e,.25,{paddingBottom:ve+"px",ease:Cubic.easeIn},"paddingAnimation").to(window,.5,{scrollTo:{y:de},ease:Cubic.easeOut},"paddingAnimation"),ye.to(we,.25,{opacity:1,visibility:"visible"})):(de=$e.offset().top-120,ye.to(Ie,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),ye.set($e,{className:"+=open",onComplete:function(){Ie.html(we.html()),TweenMax.set(Ie,{height:"auto",position:"absolute"}),qe=Ie.outerHeight(),TweenMax.set(Ie,{height:"0",position:"relative"}),ye.add("heightAnimation").to(Ie,.5,{height:qe+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:de},ease:Cubic.easeOut},"heightAnimation").to(Ie,.25,{opacity:1,visibility:"visible"}),Se=$e.position().left,Ne=$(".container-team").width(),Be=Se-Ne/2+$e.outerWidth()/2,TweenMax.to(ne,.5,{x:-Be,ease:Cubic.easeOut,onComplete:m})}}))}else if(de=$e.offset().top-120,TweenMax.set(ne,{className:"+=member-open"}),xe=new TimelineMax,xe.set($e,{className:"+=open"}),m(),H>979)xe.add("paddingAnimation").to($e,.5,{paddingBottom:ve+"px",ease:Cubic.easeOut},"paddingAnimation").to(window,.5,{scrollTo:{y:de},ease:Cubic.easeOut},"paddingAnimation").to(we,.25,{opacity:1,visibility:"visible"});else{Ie.html(we.html()),TweenMax.set(Ie,{height:"auto",position:"absolute"}),qe=Ie.outerHeight(),TweenMax.set(Ie,{height:"0",position:"relative"}),xe.add("heightAnimation").to(Ie,.5,{height:qe+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:de},ease:Cubic.easeOut},"heightAnimation").to(Ie,.25,{opacity:1,visibility:"visible"});var n=Math.max.apply(null,ne.find(".team-member").map(function(){return $(this).height()}).get());TweenMax.to($(".wrapper-btn-glob"),.5,{height:n+10+"px",ease:Cubic.easeInOut}),Se=$e.position().left,Ne=$(".container-team").width(),Be=Se-Ne/2+$e.outerWidth()/2,TweenMax.to(ne,.5,{x:-Be,ease:Cubic.easeOut,onComplete:m})}}function w(){g();var e=$(".team.member-open > li.open");Ce=$(".desc",e),ye=new TimelineMax,H>979?ye.to(Ce,.25,{opacity:0,visibility:"hidden"}).to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut}):ye.to(Ie,.25,{opacity:0}).to(Ie,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut}),ye.set(e,{className:"-=open"}).set(ne,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut})}function v(e){if(!TweenMax.isTweening(ne.find("li"))&&!TweenMax.isTweening(ne.find(".desc"))&&!TweenMax.isTweening($(".wrapper-btn-glob"))){var t=$(".team.member-open > li.open");Ce=$(".desc",t),ye=new TimelineMax,ye.to(Ce,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),Te=e.hasClass("left")?t.prev().length?t.prev():ne.find("> li").last():t.next().length?t.next():ne.find("> li").first(),de=t.offset().top<Te.offset().top?ne.offset().top+Te.position().top-parseFloat(t.css("paddingBottom"))-120:Te.offset().top-120,Me=$(".desc",Te),ke=Me.outerHeight(),ye.set(Te,{className:"+=open"}).add("paddingAnimation").to(Te,.25,{paddingBottom:ke+"px",ease:Cubic.easeIn},"paddingAnimation").to(t,.5,{paddingBottom:"0",ease:Cubic.easeOut},"paddingAnimation").to(window,.5,{scrollTo:{y:de},ease:Cubic.easeOut},"paddingAnimation").to(Me,.25,{opacity:1,visibility:"visible"})}}function x(e){if(!(TweenMax.isTweening(ne.find("li"))||TweenMax.isTweening(ne.find(".desc"))||TweenMax.isTweening($(".wrapper-btn-glob"))||TweenMax.isTweening(ne)))if(m(),e.closest(".wrapper-btn-glob").hasClass("open")&&(e.hasClass("left")?TweenMax.to(ne,.25,{x:"+="+ae,ease:Cubic.easeInOut}):TweenMax.to(ne,.25,{x:"-="+ae,ease:Cubic.easeInOut})),H<=979&&ne.hasClass("member-open")&&e.closest(".wrapper-btn-glob").hasClass("open")){var t=$(".team.member-open > li.open");Ce=$(".desc",t),ye=new TimelineMax,ye.to(Ie,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),Te=e.hasClass("left")?t.prev():t.next(),de=Te.offset().top-120,Me=$(".desc",Te),ye.set(Te,{className:"+=open",onComplete:function(){Ie.html(Me.html()),TweenMax.set(Ie,{height:"auto",position:"absolute"}),qe=Ie.outerHeight(),TweenMax.set(Ie,{height:"0",position:"relative"}),ye.add("heightAnimation").to(Ie,.5,{height:qe+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:de},ease:Cubic.easeOut},"heightAnimation").to(Ie,.25,{opacity:1,visibility:"visible",onComplete:m})}})}else g()}function C(){var e=$(this);e.is("[type=submit]")||(e.val()?e.addClass("filled"):e.removeClass("filled"))}function y(e){var t=e.parents(".form-to-open"),n=e.find("+ .form-section");t.find("legend").removeClass("active"),TweenMax.to(t.find(".form-section"),.2,{height:0,ease:Power2.easeInOut}),e.addClass("active"),TweenMax.to(n,.2,{height:n.data("height"),ease:Power2.easeInOut,onComplete:function(){n.find(".form-elt").eq(0).focus()}})}function T(e){e.find("legend").addClass("active"),e.find(".form-section").each(function(){TweenMax.to($(this),.2,{height:$(this).data("height")})}).find(".form-elt").each(function(){$(this).attr("required")&&!$(this).val()&&$(this).addClass("invalid").closest(".form-section").addClass("invalid")})}var M=$(document).height(),k=$(window).height(),H=window.outerWidth,O=H,D=new ScrollMagic.Controller,I=0,q=$(document).scrollTop(),S=0,N=$("html"),B=$("body"),W=$("#header"),A=W.innerHeight(),P=$("#menu-main"),j=$("#mainContent"),E=$("#main"),F=$("#readIndicator"),G=$(".btn"),z=$(".btn-invert"),L=$("#contentHeader"),K=$("#spotlightPost"),R=!1,Q=$("#postSidebar"),U=$("#related"),X=$("#menu-responsive"),Y=$("#portfolio"),_,J,V=[],Z=$("#portfolioFilters"),ee=Z.length?Z.offset().top:0,te=$(".dropdown"),ne=$(".team"),ie=!1,ae,oe,se,le,re,de,ce=$("#fadePage"),fe=$(".gallery");if(function e(){if(B.hasClass("single-job")){var t=$(".js-job-details-tab");t.length&&t.on("click","h2",function e(){if(window.innerWidth<=767){var t=$(this).parent(),n=0;t.hasClass("active")?n=$(this).outerHeight(!0):t.children().each(function e(t,i){n+=$(i).outerHeight(!0)}),t.css({maxHeight:n}),t.toggleClass("active")}})}if(B.hasClass("page-template-careers")||B.hasClass("single-job")){var n=document.getElementsByClassName("js-details-job-sidebar")[0],i=$("#header"),a=i.outerHeight();collant(n,a)}}(),isMobile.any?N.addClass("is-mobile"):N.addClass("is-desktop"),B.hasClass("home")||a(q,0),t(),G.length&&G.each(function(e){G.eq(e).html(setBtn(G.eq(e)))}),z.length&&z.each(function(e){z.eq(e).html(setBtn(z.eq(e)))}),j.length){if(j.find("img").length){r(j.find("img").not(".no-scroll"))}j.find(".special-cat").length&&r(j.find(".special-cat"))}if(Q.length&&(postSidebarTop=Q.offset().top,postSidebarWidth=Q.innerWidth()),K.length&&(s(),TweenMax.set(K.find(".spotlight-post"),{y:"-120%"}),new ScrollMagic.Scene({triggerElement:"#spotlightPost"}).triggerHook(.9).setTween(TweenMax.staggerTo(K.find(".spotlight-post"),.25,{y:"0%"},.1)).addTo(D)),U.length){var he=U.find(".read-also-post");TweenMax.set(he,{opacity:0}),new ScrollMagic.Scene({triggerElement:"#related"}).triggerHook(.7).setTween(TweenMax.staggerTo(he,.25,{opacity:1},.1)).addTo(D)}if(Y.length){var pe=Y.find("li"),me=pe.length,ge=H>767?6:3,ue=[];window.location.search&&(ue=e(),ue=ue.filter(function(e){return"investment"===e[0]||"field"===e[0]||"footprint"===e[0]})),ue.length?p(ue):c(pe,me,ge),Z.on("click","li",h)}if(ne.length){var be=ne.find(".team-member"),we,ve,$e,xe,Ce,ye,Te,Me,ke,He,Oe,De,Ie=$(".content-desc-responsive"),qe,Se,Ne,Be;u(),m(),be.on("click",function(e){e.preventDefault(),b($(this))}),$(".btn-desc > li a").on("click",function(e){e.preventDefault(),v($(this))}),$(".container-team .wrapper-btn-glob a").on("click",function(e){e.preventDefault(),x($(this))}),$(".container-team").on("click",".btn-cross",function(e){e.preventDefault(),w()})}if(X.length&&d(),$("a").length){var We=location.protocol+"//"+location.host,Ae=We+location.pathname;$("a").each(function(){var e=$(this).attr("href"),t=e.indexOf("#");if("#"!==e&&"_blank"!==$(this).attr("target"))if(0===t)$(this).addClass("scroll-anchor");else if(t>-1){var n=e.substring(0,t);"/"!==n.slice(-1)&&(n+="/"),Ae===n&&$(this).attr("href",e.substring(t)).addClass("scroll-anchor")}else 0===e.indexOf(We)&&$(this).addClass("fade-page-link")})}if(B.on("click",".scroll-anchor",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(this.hash).offset().top-150},500),$(this).blur()}),B.on("click",".fade-page-link",function(e){if(!$(this).hasClass("ajax-load")&&!(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)){var t=$(this).attr("href");e.preventDefault(),TweenMax.to(ce,.2,{opacity:0,onComplete:function(){window.location.href=t}})}}),P.length){var Pe=P.find(".current-menu-item");if(Pe.length){Pe.find("a").attr("href").indexOf("#")>-1&&(Pe.removeClass("current-menu-item").addClass("anchor"),o(q))}}if(te.on("click",function(){var e=$(this),t=2,n=te.not(e);e.hasClass("on")?i(e):(e.data("height",e.css("height")).find("li").each(function(){t+=$(this).outerHeight()}),e.css("height",t).addClass("on")),n.each(function(){i($(this))})}),$("#burger").on("click",function(e){e.preventDefault(),N.toggleClass("menu-open"),N.hasClass("menu-open")?setTimeout(function(){var e=0,t=X.find(".menu-small").length;for(e;e<t;e++)TweenMax.to(X.find(".menu-title").eq(e),.25,{y:"0%",opacity:1,z:.01,force3D:!0}),TweenMax.to(X.find(".menu-subtitle").eq(e),.25,{y:"0%",opacity:1,z:.01,force3D:!0}).delay(.05),TweenMax.staggerTo(X.find(".menu-small").eq(e).find("li"),.25,{y:"0%",opacity:1,z:.01,force3D:!0},.08)},380):d()}),$("input").length){if($(":input").each(C).on("change",C).on("focus",function(){$(this).attr("autocomplete","on")}),$("label").length&&$("label").not("[for=search-header]").css("opacity",1),$("input[type=file]").length){$("input[type=file]").each(function(){var e=$(this);e.after('<button type="button" class="inputFile btn-invert form-elt">'+$(this).siblings("label").html()+"</button>").css("display","none").siblings("label").css("display","none"),$(".inputFile").on("click",function(t){t.preventDefault(),e.click()}).each(function(){$(this).html(setBtn($(this)))}),e.on("change",function(){$(this).siblings(".form-desc").html($(this)[0].files[0].name)})})}var je=$(".form-search"),Ee=$(".form-search-header");je.on("submit",function(e){var t=$(this).find("input");t.val()||(e.preventDefault(),t.focus(),$(this).hasClass("form-search-header")&&$(this).toggleClass("on"))}),Ee.on("focusout",function(){$(this).find("input").val()?$(this).addClass("on"):$(this).removeClass("on")}).on("submit",function(e){H<=540&&(e.preventDefault(),window.location.href=$(this).attr("action")+"?s=")});var Fe=$(".form-to-open"),Ge=$(".open-form");Fe.length&&(Fe.each(function(){$(this).find(".form-section").each(function(){$(this).data("height",$(this).height()).css("height",0)}).eq(0).css("height",$(this).find(".form-section").eq(0).data("height"))}).css({display:"none",opacity:0}).each(function(){$(this).hasClass("form-open-error")&&($(this).css({display:"block",opacity:1}).siblings("button").css("display","none"),T($(this)))}),$(".form-wrkbl-to-open").css({display:"block",opacity:1})),Ge.on("click",function(e){var t=$(this),n=t.parents(".interactive-block");e.preventDefault(),TweenMax.to(n.siblings().find(".form-to-open"),.2,{opacity:0,ease:Power2.easeIn,onComplete:function(){$(".interactive-block").hasClass("open")&&n.siblings().find(".form-to-open").css("display","none")}}),n.addClass("on").removeClass("off").siblings().removeClass("on").addClass("off"),TweenMax.set(n.siblings().find(".open-form"),{display:"inline-block",delay:.3}),TweenMax.to(n.siblings().find(".open-form"),.3,{opacity:1,delay:.3,ease:Power2.easeInOut}),TweenMax.to(t,.3,{opacity:0,ease:Power2.easeInOut,onComplete:function(){t.css("display","none")}}),$(".interactive-block").hasClass("open")&&TweenMax.set(n.find(".form-to-open"),{display:"block",delay:.3}),TweenMax.to(n.find(".form-to-open"),.2,{opacity:1,delay:.3,ease:Power2.easeOut,onComplete:function(){n.find(".form-to-open").find(".form-elt").eq(0).focus()}}),$(".interactive-block").hasClass("open")?H<=767&&$(".interactive-block").removeClass("open"):(n.siblings().find(".form-to-open").slideUp(300,"easeInQuad"),n.find(".form-to-open").delay(300).slideDown(300,"easeOutQuad",function(){H>767&&$(".interactive-block").addClass("open").css("minHeight",n.height())})),$("html, body").animate({scrollTop:n.offset().top},200)}),Fe.on("click","legend",function(){y($(this))}).on("focusout",".form-elt",function(){var e=$(this).parents(".form-to-open"),t=e.find(".form-section").length,n=$(this).closest(".form-section"),i=$(this).closest(".form-section").find(".form-elt").length;e.find(".form-section").index(n)<t-1&&$(this).parents("div").index()===i-1&&(y(e.find(".form-section").eq(n.index()).siblings("legend")),$("html, body").animate({scrollTop:e.offset().top},300))}).on("input change",".form-elt",function(){var e=!0,t=$(this).closest(".form-to-open").find("button[type=submit]");$(this).closest(".form-to-open").find(".form-elt").each(function(){$(this).attr("required")&&!$(this).val()&&(e=!1)}),e?t.addClass("on"):t.removeClass("on")}).on("click","button[type=submit]",function(e){if(!$(this).hasClass("on")){var t=$(this).parents(".form-to-open");e.preventDefault(),T(t)}})}var ze=$(".subscribe-form");ze.length&&(ze.find("#email").attr("type","email").attr("placeholder","").attr("required",!0).after('<label for="email" style="opacity:1">Your email</label>'),ze.append('<button type="submit" name="submit" class="btn-invert">Signup</button>'),ze.find(".mailjet-subscribe").remove(),ze.find("button").html(setBtn(ze.find("button")))),$(document).on("scroll",function(){var e=$(document).scrollTop();a(e,n(e)),L.length&&!isMobile.any&&(e>20?TweenMax.to(L.find("h1"),.2,{y:"-50px",opacity:0}):TweenMax.to(L.find("h1"),.2,{y:"0px",opacity:1}),L.find(".img").length&&TweenMax.set(L.find(".img"),{y:"-"+e/40+"%"}),L.find(".menu-home").length&&TweenMax.set(L.find(".menu-home"),{y:"-"+e/4+"px"})),Q.length&&j.length&&!isMobile.any&&l(e),P.length&&o(e)}),$(window).on("resize",function(){M=$(document).height(),k=$(window).height(),H=window.outerWidth;var e=$(".js-job-details-tab");if(e.length&&(window.innerWidth>767?"max-content"!=e.css("maxHeight")&&(e.css({maxHeight:"max-content"}),e.removeClass("active")):e.each(function(e,t){var n=$(t),i=n.find(".job-single-title").outerHeight(!0);parseFloat(n.css("maxHeight").replace("px",""))!=i&&n.css({maxHeight:i})})),H>979&&N.removeClass("menu-open"),E.length&&L.length&&E.css("marginTop",Math.floor(L.outerHeight())),Q.length&&(Q.css({top:0,width:"20%"}).removeClass("fixed fixedBot"),postSidebarTop=Q.offset().top,postSidebarWidth=Q.innerWidth()),K.length&&s(),Y.length){var t=H>767?6:3;t!==ge&&Y.find("div.grid")&&(Y.find("div.grid").remove(),ge=t,c(pe,me,ge))}O!==H&&ne.length&&(ne.hasClass("member-open")&&(TweenMax.set($(".team.member-open > li.open .desc"),{clearProps:"all"}),TweenMax.set($(".team.member-open > li.open"),{className:"-=open",clearProps:"all"}),TweenMax.set($(".content-desc-responsive"),{clearProps:"all"}),TweenMax.set(ne,{className:"-=member-open"}),He=$(".team.member-open > li.open"),Oe=$(".desc",He),De=Oe.outerHeight(),TweenMax.set(He,{paddingBottom:De+"px",ease:Cubic.easeInOut})),u(),m()),fe.length&&fe.each(function(){setGallery($(this),$(window).width())})})}),$(window).on("load",function(){function e(e){e.split({type:"words"}),TweenMax.staggerFrom(e.words,.3,{ease:Expo.easeInOut,opacity:0,y:100},.03)}var t=$("#main"),n=$("#contentHeader"),i=$(".gallery"),a=$("#postSidebar"),o=[],s=window.outerWidth;$(".wrapper-video path").each(function(e){o[e]=new TweenMax.from(this,.1,{opacity:0,x:0})}),tlHeader.play(),tlHeaderDone=!0,o.forEach(function(e,t){tlHeader.add(e)});var l=tlHeader.tweenFromTo(0,tlHeader.duration(),{ease:Power4.easeOut}),r=$("#video"),d=r.find("source");r.length&&s>979&&(d.attr("src",d.data("src")),r[0].load(),r[0].play()),n.length&&(n.find("h1").length&&($("body").hasClass("home")?TweenMax.fromTo(n.find("h1"),.3,{opacity:0,y:100},{opacity:1,y:0,delay:1}):TweenMax.fromTo(n.find("h1"),.3,{opacity:0,y:100},{opacity:1,y:0})),t.length&&t.css("marginTop",Math.floor(n.outerHeight()))),a.length&&(postSidebarTop=a.offset().top,postSidebarWidth=a.innerWidth()),i.length&&i.each(function(){setGallery($(this),$(window).width())})});
=======
"use strict";
// globales car utilisée dans ajax.js
function setBtn(e){var t=e.html();return'<span class="before">'+t+'</span><span class="after">'+t+"</span>"}function setGallery(i,n){function a(){s.each(function(){var e=$(this).width(),t=$(this).offset().left+e;n<t||t<e?$(this).addClass("off"):$(this).removeClass("off")})}function o(e){s.last().hasClass("off")?$("#nextImg").removeClass("hidden"):$("#nextImg").addClass("hidden"),0<=s.eq(0).offset().left?$("#prevImg").addClass("hidden"):$("#prevImg").removeClass("hidden")}function t(e){var t,n=i.data("x")?i.data("x"):0;TweenMax.isTweening(i)||(s.each(function(){var e;$(this).offset().left<10?$(this).addClass("hideLeft"):$(this).removeClass("hideLeft")}),n-="right"===e?s.not(".hideLeft").eq(0).offset().left:$(".hideLeft.off").last().offset().left,TweenMax.to(i,.3,{x:n+"px",onComplete:function(){i.data("x",n),a(),o(n)}}))}var s=i.find("div"),e=0,l=i.closest(".container-small").length?i.closest(".container-small"):i.closest(".container");767<n&&!dragGallery?(i.css("opacity",0).imagesLoaded().always(function(){s.each(function(){e+=Math.ceil($(this).width())}),i.width(e).data("width",e),dragGallery=Draggable.create(i,{type:"x",bounds:l,cursor:"grab",throwProps:!0,onDrag:a,onDragStart:function(){i.addClass("grabbing")},onDragEnd:function(){i.removeClass("grabbing")},onThrowComplete:function(){i.data("x",this.x),a(),o(this.x)}}),a(),TweenMax.to(i,.3,{opacity:1})}),$("#nextImg").length||(i.after('<button class="btn-arrow-only left hidden" id="prevImg">Previous image</button><button class="btn-arrow-only" id="nextImg">Next image</button>'),$("#nextImg").on("click",function(e){e.preventDefault(),$(this).blur(),t("right")}),$("#prevImg").on("click",function(e){e.preventDefault(),$(this).blur(),t("left")}))):(void 0!==Draggable.get(i)&&Draggable.get(i).kill(),dragGallery=!1)}var postSidebarTop=0,postSidebarWidth=0,dragGallery=!1,tlHeader=new TimelineMax({paused:!0}).timeScale(4),tlHeaderDone=!1;$(function(){
/**** INIT ****/
// return the url queries -> oParametre = [[query, value]]
function e(){for(var e=[],t,n=0,i=window.location.search.substr(1).split("&");n<i.length;n++)t=i[n].split("="),e[n]=[unescape(t[0]),1<t.length?unescape(t[1]):""];return e}
// Alternative au CSS object-fit
// Fonction pour adapter la taille d'une image à son container
// Basé sur le script de Primož Cigler https://medium.com/@primozcigler/neat-trick-for-css-object-fit-fallback-on-edge-and-other-browsers-afbc53bbb2c3#.n2teu1z9m
function t(){!Modernizr.objectfit&&$(".img-fit").length&&$(".img-fit").each(function(){var e=$(this),t=e.find("img").prop("src");t&&e.css("backgroundImage","url("+t+")").addClass("compat-object-fit")})}function n(e){var t=q<e?-1:1;return q=e,t}function i(e){e.css("height",e.data("height")).removeClass("on")}
// header animation on scroll + filters animation on scroll + readIndicator
function a(e,t){if(E.length&&K.length&&!W.hasClass("menu-open")&&(E.hasClass("content-career")?A.addClass("fixed"):e>E.offset().top-P-40?A.addClass("fixed"):A.removeClass("fixed"),A.hasClass("fixed")&&(t<0?A.addClass("on"):A.removeClass("on"))),ee.length&&700<H&&767<O){var n=te-P+200;ee.hasClass("single-on")?n-=400:te-P<e?ee.addClass("fixed"):ee.removeClass("fixed"),n<e&&(t<0?ee.addClass("on"):ee.removeClass("on"))}if(G.length&&(B.hasClass("single-post")||B.hasClass("page-template-default"))&&E.innerHeight()>H){var i=(e-E.offset().top)/(E.innerHeight()-H);TweenMax.set(G,{scaleX:i})}}
// add a current class to an anchor if we are on the targeted section
function o(e){var t=j.find(".anchor");if(t.length){var n=t.find("a").attr("href"),i=n.indexOf("#");if(-1<i){var a=n.substring(i);if($(a).length){var o=$(a).offset().top;o-200<=e&&e<=o+$(a).outerHeight()-200?t.addClass("current-menu-item"):t.removeClass("current-menu-item")}}}}
// set draggable spotglight posts, detect if they are in the viewport
function s(){function e(){var t=n.eq(0).innerWidth();n.each(function(){var e=$(this).offset().left+t;O<e||e<t?$(this).addClass("off"):$(this).removeClass("off")})}var n=R.find(".spotlight-post"),t=R.find(".container").innerWidth();if(e(),O<t)if(Q)Q[0].enable();else{var i=Math.round($("#spotlightDrag").find(".spotlight-post").first().innerWidth());Q=Draggable.create("#spotlightDrag",{type:"x",bounds:R,cursor:"grab",throwProps:!0,edgeResistance:.9,snap:{x:function(e){return Math.round(e/i)*i}},onDrag:e,onDragStart:function(){R.find(".container").addClass("grabbing")},onDragEnd:function(){R.find(".container").removeClass("grabbing")},onThrowComplete:e})}else Q&&(Q[0].disable(),TweenMax.set(Q,{x:"0px"}))}
// animate sidebar on post pages
function l(e){var t=20,n=U.innerHeight(),i=E.offset().top,a=E.innerHeight();n<a+40&&n+P+20<H?postSidebarTop-P-20<=e?(i+a-20<e+n+P+20?U.css({top:a-20-n+20,width:postSidebarWidth}).removeClass("fixed").addClass("fixedBot"):U.css({top:P+20,width:postSidebarWidth}).removeClass("fixedBot").addClass("fixed"),(a+i)/2<e?(U.find("li").eq(0).find(".img").addClass("off"),U.find("li").eq(1).find(".img").addClass("on")):(U.find("li").eq(0).find(".img").removeClass("off"),U.find("li").eq(1).find(".img").removeClass("on"))):U.css({top:0,width:postSidebarWidth}).removeClass("fixed fixedBot"):U.css({top:0}).removeClass("fixed fixedBot")}
// animate opacity on elmts on scroll
function r(t){TweenMax.set(t,{opacity:0}),t.each(function(e){new ScrollMagic.Scene({triggerElement:t[e]}).triggerHook(.7).setTween(TweenMax.to($(this),.25,{opacity:1})).addTo(I)})}
// animate responsive menu elmts
function d(){TweenMax.set([Y.find(".menu-title"),Y.find(".menu-subtitle")],{y:"-100%",opacity:0}),TweenMax.set(Y.find("li"),{y:"-120%",opacity:0})}
// create portfolio
function c(e,t,n,i){function s(e,t){var n=c.not(".transfered"),i,a=_.find("li").not(".transfered").length,o=Math.floor(Math.random()*a);c.find("a").removeClass("on"),n.eq(t).find("a").addClass("off"),J=setTimeout(function(){_.find("div.grid").hasClass("is-hovered")||n.eq(e).hasClass("cta")||n.eq(e).find("a").addClass("on").removeClass("off")},1500),V=setTimeout(s,3500,o,e)}
// On se donne un modèle de répartition
// Pour chaque nombre de colonne souhaité, on donne le modèle de répartition
// La maquette présentait sur 6 colonnes 5, 7, 7, 6, 6, 6 éléments
// ce qu'on peut réduire à -2, 0, 0, -1, -1, -1
// sachant que le total doit être inférieur à 0 pour ne pas avoir plus d'emplacement que d'éléments à placer
var a='<div class="grid">',o=0,l=0,r,d=0,c,f=[],h={3:[-1,0,-1],6:[-2,0,0,-1,-1,-1]},p={3:[1,2,0],6:[2,3,4,1,5,0]},m=Math.ceil(t/n),g=[];for(l=0;l<n;l++)g[l]=m+h[n][l];
// On calcule le nombre d'éléments n'ayant pas encore été placé
var u=t-g.reduce(function(e,t){return e+t},0);
// On place les éléments non affectés dans les colonnes par priorité
for(l=0;l<u;l++){var b;g[p[n][l%n]]++}var v=3===n?1:3,w=3===n?3:2;if(clearTimeout(J),clearTimeout(V),Z.length)for(;l<Z.length;l++)Z[l].destroy(!0);for(l=0;l<n;l++)f[l]=[],a+='<div class="po-item-col col-2"></div>';for(a+="</div>",_.find(".container").append(a);o<t;)for(l=0;l<n;l++){var x="";f[l]++,e.eq(o).length&&g[l]>=f[l]&&(l===v&&f[l]===w&&(x='<div class="po-item cta">'+$("#ctaPortfolio").html()+"</div>"),e.eq(o).hasClass("transfered")?x+='<div class="po-item transfered">'+e.eq(o).html()+"</div>":x+='<div class="po-item">'+e.eq(o).html()+"</div>",_.find(".po-item-col").eq(l).append(x),o++)}for(TweenMax.set(_.find(".po-item"),{opacity:0,y:"30%",scale:.8}),l=0;l<t+1;l++)Z[l]=new ScrollMagic.Scene({triggerElement:_.find(".po-item")[l]}).triggerHook(.9).setTween(TweenMax.to(_.find(".po-item").eq(l),.25,{opacity:1,y:"0%",scale:1})).addTo(I);d=(r=_.find("div.grid").find(".transfered")).length,c=_.find(".po-item"),s(0,-1),c.find("a").on("mouseenter",function(){$(this).closest(".po-item").hasClass("cta")||($(this).closest(".po-item").addClass("link-hovered").closest(".grid").addClass("is-hovered"),c.find("a").removeClass("on"),$(this).removeClass("off"))}).on("mouseleave",function(){$(this).closest(".po-item").removeClass("link-hovered").closest(".grid").removeClass("is-hovered"),$(this).addClass("off")}),i&&setTimeout(function(){$("html, body").animate({scrollTop:F.offset().top},400)},400)}function f(e,t){
// Filtre les poItem en ayant la possibilité de ne pas prendre en compte un filtre (pour griser les entrées d'un select)
function a(i){return ge.filter(function(){var t=$(this),n=!0;return e.forEach(function(e){e[0]!==i&&"all"!==e[1]&&n&&-1===$.inArray(e[1],$("a",t).data(e[0]).split(","))&&(n=!1)}),n})}function n(e){var i=[],t,n;
// Je parcours tous mes éléments startup et je consolide dans un tableau les valeurs de filtre restant possibles
a(e).each(function(){function e(t){var e;t in i||(i[t]=[]),n.data(t).split(",").forEach(function(e){""!==e&&(i[t][e]=!0)})}var n=$(this).find("a");e("investment"),e("field"),e("footprint")}),ee.find(".dropdown[data-filter="+e+"]").each(function(){var e=$(this),n=e.data("filter"),t;e.find("li").each(function(){var e=$(this),t=e.data(n);"all"!==t&&(i[n]&&t in i[n]?e.removeClass("empty"):e.addClass("empty"))})})}var i,o;i=a(!1),n("investment"),n("field"),n("footprint"),o=i.length,be=767<O?6:3,_.find("div.grid").remove(),history.pushState(null,null,t),c(i,o,be,"scroll")}function h(){var e=$(this);if(!e.hasClass("actif")){var n=[],t=ee.find(".dropdown"),i=window.location.origin+window.location.pathname+"?";e.siblings().removeClass("actif"),e.addClass("actif").clone().prependTo(e.parents(".dropdown")),e.remove(),t.each(function(e){var t=$(this).data("filter");n[e]=[t,$(this).find(".actif").data(t)],0!==e&&(i+="&"),i+=n[e][0]+"="+n[e][1]}),f(n,i)}}function p(a){var o=ee.find(".dropdown");o.each(function(e){var t=o.eq(e);if(void 0!==a[e]){var n=t.find("[data-"+a[e][0]+"="+a[e][1]+"]");n.siblings().removeClass("actif"),n.addClass("actif").clone().prependTo(t),n.remove()}else{var i=t.data("filter");a[e]=[i,t.find(".actif").data(i)]}}),f(a,window.location.href)}function m(){if(O<=979){var e=$(".team > li").length,t=ie.offset().left-20,n=t+ie.width(),i=$(".container-team").width(),a=0,o=0;ie.find("li").hasClass("open")&&(a=ie.find("> li.open").position().left,o=ie.find("> li.open").offset().left),767<O&&5<e?(TweenMax.set([$(".wrapper-btn-glob.btn-prev"),$(".wrapper-btn-glob.btn-next")],{className:"-=open"}),t<-Math.ceil(2*oe)&&TweenMax.set($(".wrapper-btn-glob.btn-prev"),{className:"+=open"}),Math.ceil(n+2*oe)>i&&TweenMax.set($(".wrapper-btn-glob.btn-next"),{className:"+=open"})):O<=767&&3<e&&(TweenMax.set([$(".wrapper-btn-glob.btn-prev"),$(".wrapper-btn-glob.btn-next")],{className:"-=open"}),t<-Math.ceil(oe)&&TweenMax.set($(".wrapper-btn-glob.btn-prev"),{className:"+=open"}),Math.ceil(n+oe)>i&&TweenMax.set($(".wrapper-btn-glob.btn-next"),{className:"+=open"}))}else TweenMax.set($(".wrapper-btn-glob"),{className:"-=open"})}function g(){TweenMax.set($(".wrapper-btn-glob"),{className:"-=open"})}function u(){O<=979?(de=ie.find(".team-member img").eq(0).outerHeight(),TweenMax.set($(".wrapper-btn-glob a"),{top:de/2+"px"}),ae=ae?(se=O<=767?oe=$(".container-team").width()/3:2*(oe=$(".container-team").width()/5),TweenMax.set(ie.find("> li"),{width:oe+"px"}),le=0,ie.find("> li").each(function(){le+=$(this).outerWidth()}),le+=2*se,TweenMax.set(ie,{width:le+"px",padding:"0 "+se+"px",x:-se}),re=oe,Draggable.create(".team",{type:"x",bounds:$(".container-team"),cursor:"grab",throwProps:!0,edgeResistance:.9,dragClickables:!0,snap:{x:function(e){return Math.round(e/re)*re}},onDragStart:function(){g();
// close current
var e=$(".team.member-open > li.open");Te=$(".desc",e),Me=new TimelineMax,979<$(window).width()?(Me.to(Te,.25,{opacity:0,visibility:"hidden"}),Me.to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut})):(Me.to(Se,.25,{opacity:0}),Me.to(Se,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut})),Me.set(e,{className:"-=open"}),Me.set(ie,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut}),ie.addClass("grabbing")},onDragEnd:function(){ie.removeClass("grabbing")}})):(se=O<=767?oe=$(".container-team").width()/3:2*(oe=$(".container-team").width()/5),TweenMax.set(ie.find("> li"),{width:oe+"px"}),le=0,ie.find("> li").each(function(){le+=$(this).outerWidth()}),le+=2*se,TweenMax.set(ie,{width:le+"px",padding:"0 "+se+"px",x:-se}),re=oe,Draggable.create(".team",{type:"x",bounds:$(".container-team"),cursor:"grab",throwProps:!0,edgeResistance:.9,dragClickables:!0,snap:{x:function(e){return Math.round(e/re)*re}},onDragStart:function(){g();
// close current
var e=$(".team.member-open > li.open");Te=$(".desc",e),Me=new TimelineMax,979<O?(Me.to(Te,.25,{opacity:0,visibility:"hidden"}),Me.to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut})):(Me.to(Se,.25,{opacity:0}),Me.to(Se,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut})),Me.set(e,{className:"-=open"}),Me.set(ie,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut}),ie.addClass("grabbing")},onDragEnd:function(){ie.removeClass("grabbing")}}))):ae&&(TweenMax.set(ie,{clearProps:"all"}),TweenMax.set(ie.find("> li"),{clearProps:"width"}),ae[0].disable())}function b(e){if(Ce=e.closest("li"),$e=$(".desc",Ce),xe=$e.outerHeight(),!TweenMax.isTweening(ie.find("li"))&&!TweenMax.isTweening(ie.find(".desc"))&&!TweenMax.isTweening($(".wrapper-btn-glob")))if(ie.hasClass("member-open"))if(Ce.hasClass("open"))
// close current
v();else{
// close already open and open new
var t=$(".team.member-open > li.open");Te=$(".desc",t),Me=new TimelineMax,979<O?(ce=ie.offset().top+Ce.position().top-120,t.offset().top<Ce.offset().top&&(ce-=parseFloat(t.css("paddingBottom"))),Me.to(Te,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),Me.set(Ce,{className:"+=open"}).add("paddingAnimation").to(t,.5,{paddingBottom:"0",ease:Cubic.easeInOut},"paddingAnimation").to(Ce,.25,{paddingBottom:xe+"px",ease:Cubic.easeIn},"paddingAnimation").to(window,.5,{scrollTo:{y:ce},ease:Cubic.easeOut},"paddingAnimation"),Me.to($e,.25,{opacity:1,visibility:"visible"})):(ce=Ce.offset().top-120,Me.to(Se,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),Me.set(Ce,{className:"+=open",onComplete:function(){Se.html($e.html()),TweenMax.set(Se,{height:"auto",position:"absolute"}),Ne=Se.outerHeight(),TweenMax.set(Se,{height:"0",position:"relative"}),Me.add("heightAnimation").to(Se,.5,{height:Ne+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:ce},ease:Cubic.easeOut},"heightAnimation").to(Se,.25,{opacity:1,visibility:"visible"}),
// Centrer cliqué
We=Ce.position().left,Be=$(".container-team").width(),Ae=We-Be/2+Ce.outerWidth()/2,TweenMax.to(ie,.5,{x:-Ae,ease:Cubic.easeOut,onComplete:m})}}))}else if(ce=Ce.offset().top-120,TweenMax.set(ie,{className:"+=member-open"}),(
// open new
ye=new TimelineMax).set(Ce,{className:"+=open"}),m(),979<O)ye.add("paddingAnimation").to(Ce,.5,{paddingBottom:xe+"px",ease:Cubic.easeOut},"paddingAnimation").to(window,.5,{scrollTo:{y:ce},ease:Cubic.easeOut},"paddingAnimation").to($e,.25,{opacity:1,visibility:"visible"});else{Se.html($e.html()),TweenMax.set(Se,{height:"auto",position:"absolute"}),Ne=Se.outerHeight(),TweenMax.set(Se,{height:"0",position:"relative"}),ye.add("heightAnimation").to(Se,.5,{height:Ne+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:ce},ease:Cubic.easeOut},"heightAnimation").to(Se,.25,{opacity:1,visibility:"visible"});var n=Math.max.apply(null,ie.find(".team-member").map(function(){return $(this).height()}).get());TweenMax.to($(".wrapper-btn-glob"),.5,{height:n+10+"px",ease:Cubic.easeInOut}),
// Centrer cliqué
We=Ce.position().left,Be=$(".container-team").width(),Ae=We-Be/2+Ce.outerWidth()/2,TweenMax.to(ie,.5,{x:-Ae,ease:Cubic.easeOut,onComplete:m})}}function v(){g();var e=$(".team.member-open > li.open");Te=$(".desc",e),Me=new TimelineMax,979<O?Me.to(Te,.25,{opacity:0,visibility:"hidden"}).to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut}):Me.to(Se,.25,{opacity:0}).to(Se,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut}),Me.set(e,{className:"-=open"}).set(ie,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut})}function w(e){if(!TweenMax.isTweening(ie.find("li"))&&!TweenMax.isTweening(ie.find(".desc"))&&!TweenMax.isTweening($(".wrapper-btn-glob"))){
// close already open and open new
var t=$(".team.member-open > li.open");Te=$(".desc",t),(Me=new TimelineMax).to(Te,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),ke=e.hasClass("left")?t.prev().length?t.prev():ie.find("> li").last():t.next().length?t.next():ie.find("> li").first(),ce=t.offset().top<ke.offset().top?ie.offset().top+ke.position().top-parseFloat(t.css("paddingBottom"))-120:ke.offset().top-120,He=$(".desc",ke),Oe=He.outerHeight(),Me.set(ke,{className:"+=open"}).add("paddingAnimation").to(ke,.25,{paddingBottom:Oe+"px",ease:Cubic.easeIn},"paddingAnimation").to(t,.5,{paddingBottom:"0",ease:Cubic.easeOut},"paddingAnimation").to(window,.5,{scrollTo:{y:ce},ease:Cubic.easeOut},"paddingAnimation").to(He,.25,{opacity:1,visibility:"visible"})}}function x(e){if(!(TweenMax.isTweening(ie.find("li"))||TweenMax.isTweening(ie.find(".desc"))||TweenMax.isTweening($(".wrapper-btn-glob"))||TweenMax.isTweening(ie)))if(m(),e.closest(".wrapper-btn-glob").hasClass("open")&&(e.hasClass("left")?TweenMax.to(ie,.25,{x:"+="+oe,ease:Cubic.easeInOut}):TweenMax.to(ie,.25,{x:"-="+oe,ease:Cubic.easeInOut})),O<=979&&ie.hasClass("member-open")&&e.closest(".wrapper-btn-glob").hasClass("open")){
// On passe au suivant ou au précédent
var t=$(".team.member-open > li.open");Te=$(".desc",t),(Me=new TimelineMax).to(Se,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),ke=e.hasClass("left")?t.prev():t.next(),ce=ke.offset().top-120,He=$(".desc",ke),Me.set(ke,{className:"+=open",onComplete:function(){Se.html(He.html()),TweenMax.set(Se,{height:"auto",position:"absolute"}),Ne=Se.outerHeight(),TweenMax.set(Se,{height:"0",position:"relative"}),Me.add("heightAnimation").to(Se,.5,{height:Ne+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:ce},ease:Cubic.easeOut},"heightAnimation").to(Se,.25,{opacity:1,visibility:"visible",onComplete:m})}})}else g()}
// add class to label when input is filled
function C(){var e=$(this);e.is("[type=submit]")||(e.val()?e.addClass("filled"):e.removeClass("filled"))}
// interactive forms
function y(e){var t=e.parents(".form-to-open"),n=e.find("+ .form-section");t.find("legend").removeClass("active"),TweenMax.to(t.find(".form-section"),.2,{height:0,ease:Power2.easeInOut}),e.addClass("active"),TweenMax.to(n,.2,{height:n.data("height"),ease:Power2.easeInOut,onComplete:function(){n.find(".form-elt").eq(0).focus()}})}function T(e){e.find("legend").addClass("active"),e.find(".form-section").each(function(){TweenMax.to($(this),.2,{height:$(this).data("height")})}).find(".form-elt").each(function(){$(this).attr("required")&&!$(this).val()&&$(this).addClass("invalid").closest(".form-section").addClass("invalid")})}function M(){var e=$("body");if(e.hasClass("page-template-careers")||e.hasClass("single-job")){var t,n=$("#header").outerHeight(),i=document.getElementsByClassName("js-details-job-sidebar")[0],a=document.getElementsByClassName("js-company-search-wrapper")[0];collant(i,n,{minimumWidth:979}),collant(a,n,{minimumWidth:979})}}
/**** VARIABLES ****/
var k=$(document).height(),H=$(window).height(),O=window.outerWidth,D=O,I=new ScrollMagic.Controller,q=0,S=$(document).scrollTop(),N=0,W=$("html"),B=$("body"),A=$("#header"),P=A.innerHeight(),j=$("#menu-main"),E=$("#mainContent"),F=$("#main"),G=$("#readIndicator"),z=$(".btn"),L=$(".btn-invert"),K=$("#contentHeader"),R=$("#spotlightPost"),Q=!1,U=$("#postSidebar"),X=$("#related"),Y=$("#menu-responsive"),_=$("#portfolio"),J,V,Z=[],ee=$("#portfolioFilters"),te=ee.length?ee.offset().top:0,ne=$(".dropdown"),ie=$(".team"),ae=!1,oe,se,le,re,de,ce,fe=$("#fadePage"),he=$(".gallery");if(function e(){
// Single job tab handler
if(B.hasClass("single-job")){var t=$(".js-job-details-tab");t.length&&t.on("click","h2",function e(){if(window.innerWidth<=767){var t=$(this).parent(),i=0;t.hasClass("active")?i=$(this).outerHeight(!0):t.children().each(function e(t,n){i+=$(n).outerHeight(!0)}),t.css({maxHeight:i}),t.toggleClass("active")}})}}(),isMobile.any?W.addClass("is-mobile"):W.addClass("is-desktop"),B.hasClass("home")||a(S,0),t(),z.length&&z.each(function(e){z.eq(e).html(setBtn(z.eq(e)))}),L.length&&L.each(function(e){L.eq(e).html(setBtn(L.eq(e)))}),E.length){var pe;if(E.find("img").length)r(E.find("img").not(".no-scroll"));E.find(".special-cat").length&&r(E.find(".special-cat"))}if(U.length&&(postSidebarTop=U.offset().top,postSidebarWidth=U.innerWidth()),R.length&&(s(),TweenMax.set(R.find(".spotlight-post"),{y:"-120%"}),new ScrollMagic.Scene({triggerElement:"#spotlightPost"}).triggerHook(.9).setTween(TweenMax.staggerTo(R.find(".spotlight-post"),.25,{y:"0%"},.1)).addTo(I)),X.length){var me=X.find(".read-also-post");TweenMax.set(me,{opacity:0}),new ScrollMagic.Scene({triggerElement:"#related"}).triggerHook(.7).setTween(TweenMax.staggerTo(me,.25,{opacity:1},.1)).addTo(I)}if(_.length){var ge=_.find("li"),ue=ge.length,be=767<O?6:3,ve=[];window.location.search&&(
// on vérifie que les paramètres correspondent bien a des filtres
ve=(
// si il y a des paramètres, on les récupère
ve=e()).filter(function(e){return"investment"===e[0]||"field"===e[0]||"footprint"===e[0]})),
// on filtre ou on lance juste le portfolio
ve.length?p(ve):c(ge,ue,be),ee.on("click","li",h)}if(ie.length){var we=ie.find(".team-member"),$e,xe,Ce,ye,Te,Me,ke,He,Oe,De,Ie,qe,Se=$(".content-desc-responsive"),Ne,We,Be,Ae;u(),m(),we.on("click",function(e){e.preventDefault(),b($(this))}),$(".btn-desc > li a").on("click",function(e){e.preventDefault(),w($(this))}),$(".container-team .wrapper-btn-glob a").on("click",function(e){e.preventDefault(),x($(this))}),$(".container-team").on("click",".btn-cross",function(e){e.preventDefault(),v()})}
// check all links if href contains an anchor
// if yes, remove if there is the first part of the url
// and add the scroll-anchor class to add smooth scroll on click
if(Y.length&&d(),$("a").length){var Pe=location.protocol+"//"+location.host,je=Pe+location.pathname;$("a").each(function(){var e=$(this).attr("href"),t=e.indexOf("#");if("#"!==e&&"_blank"!==$(this).attr("target"))if(0===t)$(this).addClass("scroll-anchor");else if(-1<t){var n=e.substring(0,t);"/"!==n.slice(-1)&&(n+="/"),je===n&&$(this).attr("href",e.substring(t)).addClass("scroll-anchor")}else 0===e.indexOf(Pe)&&$(this).addClass("fade-page-link")})}
// smooth scroll
if(B.on("click",".scroll-anchor",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(this.hash).offset().top-150},500),$(this).blur()}),
// fade page effect
B.on("click",".fade-page-link",function(e){if(!$(this).hasClass("ajax-load")&&!(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)){var t=$(this).attr("href");e.preventDefault(),TweenMax.to(fe,.2,{opacity:0,onComplete:function(){window.location.href=t}})}}),j.length){
// si le lien a la classe current menu item, c'est qu'il correspond a la page en cours
var Ee=j.find(".current-menu-item"),Fe,Ge;if(Ee.length)
// on cherche une ancre et s'il en a une, on lance la fonction qui l'activera au scroll
-1<Ee.find("a").attr("href").indexOf("#")&&(Ee.removeClass("current-menu-item").addClass("anchor"),o(S))}
// animate dropdown height on click
if(ne.on("click",function(){var e=$(this),t=2,n=ne.not(e);e.hasClass("on")?i(e):(e.data("height",e.css("height")).find("li").each(function(){t+=$(this).outerHeight()}),e.css("height",t).addClass("on")),n.each(function(){i($(this))})}),
// open/close menu on click on burger
$("#burger").on("click",function(e){e.preventDefault(),W.toggleClass("menu-open"),W.hasClass("menu-open")?setTimeout(function(){for(var e=0,t=Y.find(".menu-small").length;e<t;e++)TweenMax.to(Y.find(".menu-title").eq(e),.25,{y:"0%",opacity:1,z:.01,force3D:!0}),TweenMax.to(Y.find(".menu-subtitle").eq(e),.25,{y:"0%",opacity:1,z:.01,force3D:!0}).delay(.05),TweenMax.staggerTo(Y.find(".menu-small").eq(e).find("li"),.25,{y:"0%",opacity:1,z:.01,force3D:!0},.08)},380):d()}),$("input").length){var ze;if($(":input").each(C).on("change",C).on("focus",function(){$(this).attr("autocomplete","on");
// because of f*cking mailjet which add autocomplete off on focus (whyyyyyyyy ?!!)
}),$("label").length&&$("label").not("[for=search-header]").css("opacity",1),$("input[type=file]").length)$("input[type=file]").each(function(){var t=$(this);t.after('<button type="button" class="inputFile btn-invert form-elt">'+$(this).siblings("label").html()+"</button>").css("display","none").siblings("label").css("display","none"),$(".inputFile").on("click",function(e){e.preventDefault(),t.click()}).each(function(){$(this).html(setBtn($(this)))}),t.on("change",function(){$(this).siblings(".form-desc").html($(this)[0].files[0].name)})});var Le=$(".form-search"),Ke=$(".form-search-header");Le.on("submit",function(e){var t=$(this).find("input");t.val()||(e.preventDefault(),t.focus(),$(this).hasClass("form-search-header")&&$(this).toggleClass("on"))}),Ke.on("focusout",function(){$(this).find("input").val()?$(this).addClass("on"):$(this).removeClass("on")}).on("submit",function(e){O<=540&&(e.preventDefault(),window.location.href=$(this).attr("action")+"?s=")});var Re=$(".form-to-open"),Qe=$(".open-form");Re.length&&(Re.each(function(){$(this).find(".form-section").each(function(){$(this).data("height",$(this).height()).css("height",0)}).eq(0).css("height",$(this).find(".form-section").eq(0).data("height"))}).css({display:"none",opacity:0}).each(function(){$(this).hasClass("form-open-error")&&($(this).css({display:"block",opacity:1}).siblings("button").css("display","none"),T($(this)))}),$(".form-wrkbl-to-open").css({display:"block",opacity:1})),Qe.on("click",function(e){var t=$(this),n=t.parents(".interactive-block");e.preventDefault(),TweenMax.to(n.siblings().find(".form-to-open"),.2,{opacity:0,ease:Power2.easeIn,onComplete:function(){$(".interactive-block").hasClass("open")&&n.siblings().find(".form-to-open").css("display","none")}}),n.addClass("on").removeClass("off").siblings().removeClass("on").addClass("off"),TweenMax.set(n.siblings().find(".open-form"),{display:"inline-block",delay:.3}),TweenMax.to(n.siblings().find(".open-form"),.3,{opacity:1,delay:.3,ease:Power2.easeInOut}),TweenMax.to(t,.3,{opacity:0,ease:Power2.easeInOut,onComplete:function(){t.css("display","none")}}),$(".interactive-block").hasClass("open")&&TweenMax.set(n.find(".form-to-open"),{display:"block",delay:.3}),TweenMax.to(n.find(".form-to-open"),.2,{opacity:1,delay:.3,ease:Power2.easeOut,onComplete:function(){n.find(".form-to-open").find(".form-elt").eq(0).focus()}}),$(".interactive-block").hasClass("open")?O<=767&&$(".interactive-block").removeClass("open"):(n.siblings().find(".form-to-open").slideUp(300,"easeInQuad"),n.find(".form-to-open").delay(300).slideDown(300,"easeOutQuad",function(){767<O&&$(".interactive-block").addClass("open").css("minHeight",n.height())})),$("html, body").animate({scrollTop:n.offset().top},200)}),Re.on("click","legend",function(){y($(this))}).on("focusout",".form-elt",function(){var e=$(this).parents(".form-to-open"),t=e.find(".form-section").length,n=$(this).closest(".form-section"),i=$(this).closest(".form-section").find(".form-elt").length;e.find(".form-section").index(n)<t-1&&$(this).parents("div").index()===i-1&&(y(e.find(".form-section").eq(n.index()).siblings("legend")),$("html, body").animate({scrollTop:e.offset().top},300))}).on("input change",".form-elt",function(){var e=!0,t=$(this).closest(".form-to-open").find("button[type=submit]");$(this).closest(".form-to-open").find(".form-elt").each(function(){$(this).attr("required")&&!$(this).val()&&(e=!1)}),e?t.addClass("on"):t.removeClass("on")}).on("click","button[type=submit]",function(e){if(!$(this).hasClass("on")){var t=$(this).parents(".form-to-open");e.preventDefault(),T(t)}})}var Ue=$(".subscribe-form");Ue.length&&(Ue.find("#email").attr("type","email").attr("placeholder","").attr("required",!0).after('<label for="email" style="opacity:1">Your email</label>'),Ue.append('<button type="submit" name="submit" class="btn-invert">Signup</button>'),Ue.find(".mailjet-subscribe").remove(),Ue.find("button").html(setBtn(Ue.find("button")))),$(document).on("scroll",function(){var e=$(document).scrollTop(),t;a(e,n(e)),K.length&&!isMobile.any&&(
//TweenMax.set(contentHeader.find('h1'), {y: '-'+myScroll/4+'px'});
20<e?TweenMax.to(K.find("h1"),.2,{y:"-50px",opacity:0}):TweenMax.to(K.find("h1"),.2,{y:"0px",opacity:1}),K.find(".img").length&&TweenMax.set(K.find(".img"),{y:"-"+e/40+"%"}),K.find(".menu-home").length&&TweenMax.set(K.find(".menu-home"),{y:"-"+e/4+"px"})),U.length&&E.length&&!isMobile.any&&l(e),j.length&&o(e)}),$(window).on("resize",function(){k=$(document).height(),H=$(window).height(),O=window.outerWidth;var e=$(".js-job-details-tab");if(e.length&&(767<window.innerWidth?"max-content"!=e.css("maxHeight")&&(e.css({maxHeight:"max-content"}),e.removeClass("active")):e.each(function(e,t){var n=$(t),i=n.find(".job-single-title").outerHeight(!0),a;parseFloat(n.css("maxHeight").replace("px",""))!=i&&n.css({maxHeight:i})})),979<O&&W.removeClass("menu-open"),F.length&&K.length&&F.css("marginTop",Math.floor(K.outerHeight())),U.length&&(U.css({top:0,width:"20%"}).removeClass("fixed fixedBot"),postSidebarTop=U.offset().top,postSidebarWidth=U.innerWidth()),R.length&&s(),_.length){var t=767<O?6:3;t!==be&&_.find("div.grid")&&(_.find("div.grid").remove(),c(ge,ue,be=t))}D!==O&&ie.length&&(ie.hasClass("member-open")&&(TweenMax.set($(".team.member-open > li.open .desc"),{clearProps:"all"}),TweenMax.set($(".team.member-open > li.open"),{className:"-=open",clearProps:"all"}),TweenMax.set($(".content-desc-responsive"),{clearProps:"all"}),TweenMax.set(ie,{className:"-=member-open"}),De=$(".team.member-open > li.open"),Ie=$(".desc",De),qe=Ie.outerHeight(),TweenMax.set(De,{paddingBottom:qe+"px",ease:Cubic.easeInOut})),u(),m()),he.length&&he.each(function(){setGallery($(this),$(window).width())}),M()}),$(window).on("load",function(){
// TweenMax.staggerTo(line, 0.3, {ease:Expo.easeOut, autoAlpha: 0}, 0.03);
function e(e){e.split({type:"words"}),TweenMax.staggerFrom(e.words,.3,{ease:Expo.easeInOut,opacity:0,y:100},.03)}var t=$("#main"),n=$("#contentHeader"),i=$(".gallery"),a=$("#postSidebar"),o=[],s=window.outerWidth,l;$(".wrapper-video path").each(function(e){o[e]=new TweenMax.from(this,.1,{opacity:0,x:0})}),tlHeader.play(),tlHeaderDone=!0,o.forEach(function(e,t){tlHeader.add(e)});var r=tlHeader.tweenFromTo(0,tlHeader.duration(),{ease:Power4.easeOut}),d=$("#video"),c=d.find("source");d.length&&979<s&&(c.attr("src",c.data("src")),d[0].load(),d[0].play()),n.length&&(n.find("h1").length&&($("body").hasClass("home")?TweenMax.fromTo(n.find("h1"),.3,{opacity:0,y:100},{opacity:1,y:0,delay:1}):TweenMax.fromTo(n.find("h1"),.3,{opacity:0,y:100},{opacity:1,y:0})),t.length&&t.css("marginTop",Math.floor(n.outerHeight()))),
// if(fadePage.length){
//     TweenMax.to(fadePage, 0.2, {opacity: 1});
// }
a.length&&(postSidebarTop=a.offset().top,postSidebarWidth=a.innerWidth()),i.length&&i.each(function(){setGallery($(this),$(window).width())}),M()})});
>>>>>>> 🎨fixed sidebars careers

{"version":3,"sources":["webpack:///./wp-content/themes/alven/src/js/components/startup.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,2BAA2B,WAAW;AACtC;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEe,sEAAO,EAAC","file":"startup.js","sourcesContent":["const startup = () => {\n    const portfolio = document.getElementById('portfolio');\n\n    if (!portfolio) return;\n\n    const wrapper = document.getElementById('startup');\n    const links = portfolio.querySelectorAll('.ajax-load');\n\n    const openStartup = (html, href, name) => {\n        wrapper.innerHTML = html;\n\n        wrapper.querySelector('#close').addEventListener(\n            'click',\n            () => {\n                wrapper.innerHTML = '';\n                history.pushState(\n                    {\n                        id: 'portfolio'\n                    },\n                    '',\n                    window.location.origin + window.location.pathname\n                );\n            },\n            false\n        );\n\n        history.pushState({ id: name }, '', href);\n    };\n\n    const loadUrl = (href, name) => {\n        fetch(alven_ajax.ajax_url + '?action=alven_portfolio_ajax&name=' + name, {\n            method: 'POST'\n        })\n            .then(response => response.text())\n            .then(html => openStartup(html, href, name))\n            .catch(ex => console.error('Error', ex.message));\n    };\n\n    links.forEach(link => {\n        link.addEventListener(\n            'click',\n            e => {\n                e.preventDefault();\n                loadUrl(link.href, link.dataset.name);\n            },\n            false\n        );\n    });\n\n    if (window.location.pathname === '/portfolio/' && window.location.hash) {\n        loadUrl(window.location.href, window.location.hash.replace('#', ''));\n    }\n};\n\nexport default startup;\n"],"sourceRoot":""}
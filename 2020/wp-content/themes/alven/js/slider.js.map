{"version":3,"sources":["webpack:///./wp-content/themes/alven/src/js/components/slider.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4B;AACV;AACwB;;AAE1C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,QAAQ,+DAAO;AACf;AACA,SAAS;AACT;;AAEA,QAAQ,+DAAO;AACf;AACA,SAAS;AACT;AACA;;AAEA,wBAAwB,yCAAI;AAC5B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,yCAAI;;AAExB,IAAI,+DAAO;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;;AAEe,qEAAM,EAAC","file":"slider.js","sourcesContent":["import { gsap } from 'gsap';\nimport 'hammerjs';\nimport { forEach } from '@stereorepo/sac';\n\nconst slider = () => {\n    const slider = document.getElementById('slider');\n    const nav = document.getElementById('slider-nav');\n\n    if (!slider || !nav) return;\n\n    const slides = slider.querySelectorAll('.slide');\n    const btns = nav.querySelectorAll('button');\n    let index = 0;\n    let nextBtn;\n    let slideNextCall;\n    const mc = new Hammer(slider);\n\n    const slide = btn => {\n        slideNextCall.kill();\n\n        forEach(slides, slide => {\n            slide.classList.remove('on');\n        });\n        slider.querySelector('[data-startup=\"' + btn.dataset.slide + '\"').classList.add('on');\n\n        forEach(btns, elt => {\n            elt.classList.remove('on');\n        });\n        btn.classList.add('on');\n        btn.blur();\n\n        slideNextCall = gsap.delayedCall(5, slideNext);\n    };\n\n    const slideNext = () => {\n        index = [].indexOf.call(btns, nav.querySelector('.on'));\n        nextBtn = btns[index + 1] ? btns[index + 1] : btns[0];\n        slide(nextBtn);\n    };\n\n    const slidePrev = () => {\n        index = [].indexOf.call(btns, nav.querySelector('.on'));\n        nextBtn = btns[index - 1] ? btns[index - 1] : btns[btns.length - 1];\n        slide(nextBtn);\n    };\n\n    slideNextCall = gsap.delayedCall(5, slideNext);\n\n    forEach(btns, btn => {\n        btn.addEventListener(\n            'click',\n            () => {\n                slide(btn);\n            },\n            false\n        );\n    });\n\n    mc.on('swipeleft', () => {\n        slideNextCall.kill();\n        slideNext();\n    });\n\n    mc.on('swiperight', () => {\n        slideNextCall.kill();\n        slidePrev();\n    });\n};\n\nexport default slider;\n"],"sourceRoot":""}
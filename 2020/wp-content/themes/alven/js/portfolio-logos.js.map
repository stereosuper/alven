{"version":3,"sources":["webpack:///./wp-content/themes/alven/src/js/components/portfolio-logos.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAA4B;AAC4B;;AAExD,yCAAI,gBAAgB,qEAAc;;AAEQ;;AAE1C;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,QAAQ,yCAAI;AACZ;AACA;AACA;AACA;;AAEA,gBAAgB,yCAAI;AACpB;AACA;AACA;AACA,qCAAqC,yCAAI;AACzC;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA,QAAQ,+DAAO;AACf;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA,qBAAqB,yCAAI;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEe,oEAAK,EAAC","file":"portfolio-logos.js","sourcesContent":["import { gsap } from 'gsap';\nimport { ScrollToPlugin } from 'gsap/ScrollToPlugin.js';\n\ngsap.registerPlugin(ScrollToPlugin);\n\nimport { forEach } from '@stereorepo/sac';\n\nconst logos = () => {\n    const listLogos = document.getElementById('logos');\n\n    if (!listLogos) return;\n\n    let logos = listLogos.querySelectorAll('li');\n    let nbDisplayedLogos = 11;\n\n    if (logos.length <= nbDisplayedLogos) return;\n\n    const oLogos = listLogos.innerHTML;\n    let changeCall;\n    let indexes = [];\n    let hidedLogos = [];\n    let indexLogoToChange = 0;\n    let logoToChange;\n    let count = 0;\n    let wWidth = 0;\n\n    const shuffle = array => {\n        array.sort(() => Math.random() - 0.5);\n    };\n\n    const changeLogo = () => {\n        changeCall.kill();\n\n        logoToChange = logos[indexes[indexLogoToChange]];\n\n        hidedLogos.push(logoToChange.innerHTML);\n\n        gsap.to(logoToChange, 0.3, {\n            opacity: 0,\n            onComplete: () => {\n                logoToChange.innerHTML = hidedLogos[0];\n                hidedLogos.splice(0, 1);\n\n                gsap.to(logoToChange, 0.5, {\n                    opacity: 1,\n                    onComplete: () => {\n                        indexLogoToChange = indexLogoToChange + 1 > nbDisplayedLogos - 1 ? 0 : indexLogoToChange + 1;\n                        changeCall = gsap.delayedCall(0.5, changeLogo);\n                    }\n                });\n            }\n        });\n    };\n\n    const setLogos = () => {\n        forEach(logos, (logo, i) => {\n            if (i < nbDisplayedLogos) {\n                logo.classList.add('on');\n                indexes[i] = i;\n            } else {\n                logo.classList.remove('on');\n                hidedLogos[count] = logo.innerHTML;\n                count++;\n            }\n        });\n\n        shuffle(indexes);\n\n        changeCall = gsap.delayedCall(1, changeLogo);\n    };\n\n    const reset = () => {\n        listLogos.innerHTML = oLogos;\n        logos = listLogos.querySelectorAll('li');\n\n        indexes = [];\n        hidedLogos = [];\n        indexLogoToChange = 0;\n        count = 0;\n\n        if (changeCall) {\n            changeCall.kill();\n        }\n    };\n\n    const launch = () => {\n        wWidth = window.$stereorepo.superWindow.windowWidth;\n\n        if (wWidth >= 1264) {\n            nbDisplayedLogos = 11;\n        } else if (wWidth >= 960) {\n            nbDisplayedLogos = 9;\n        } else if (wWidth >= 768) {\n            nbDisplayedLogos = 7;\n        } else if (wWidth >= 580) {\n            nbDisplayedLogos = 5;\n        } else {\n            nbDisplayedLogos = 4;\n        }\n\n        setLogos();\n    };\n\n    const resize = () => {\n        reset();\n        launch();\n    };\n\n    window.$stereorepo.superWindow.initializeWindow();\n    window.$stereorepo.superWindow.addResizeFunction(resize);\n\n    launch();\n};\n\nexport default logos;\n"],"sourceRoot":""}
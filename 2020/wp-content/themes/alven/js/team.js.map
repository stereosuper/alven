{"version":3,"sources":["webpack:///./wp-content/themes/alven/src/js/components/afterPolyfill.js","webpack:///./wp-content/themes/alven/src/js/components/team.js"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,CAAC;;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyB;;AAEG;AAC4B;;AAExD,yCAAI,gBAAgB,qEAAc;;AAEQ;;AAE1C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,+DAAO;AACf;AACA;AACA,SAAS;AACT;;AAEA;AACA,YAAY,yCAAI;;AAEhB,QAAQ,yCAAI;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,+DAAO;AACvB;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA,gBAAgB,yCAAI,aAAa,gDAAgD;AACjF,gBAAgB,yCAAI,gBAAgB,aAAa;AACjD;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,IAAI,+DAAO;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEe,mEAAI,EAAC","file":"team.js","sourcesContent":["(function (x) {\n    var o = x.prototype;\n    o.after ||\n        (o.after = function () {\n            var e,\n                m = arguments,\n                l = m.length,\n                i = 0,\n                t = this,\n                p = t.parentNode,\n                n = Node,\n                s = String,\n                d = document;\n            if (p !== null) {\n                while (i < l) {\n                    (e = m[i]) instanceof n\n                        ? (t = t.nextSibling) !== null\n                            ? p.insertBefore(e, t)\n                            : p.appendChild(e)\n                        : p.appendChild(d.createTextNode(s(e)));\n                    ++i;\n                }\n            }\n        });\n})(Element);\n","import './afterPolyfill';\n\nimport { gsap } from 'gsap';\nimport { ScrollToPlugin } from 'gsap/ScrollToPlugin.js';\n\ngsap.registerPlugin(ScrollToPlugin);\n\nimport { forEach } from '@stereorepo/sac';\n\nconst team = () => {\n    const team = document.getElementById('team');\n\n    if (!team) return;\n\n    const members = team.querySelectorAll('.team-member');\n    const nbMembers = members.length;\n    const wrapper = document.createElement('div');\n    const desc = document.createElement('div');\n    let wWidth = 0;\n    let row = 5;\n    let index = 0;\n    let indexPos = 0;\n    let parent;\n    let next;\n    let prev;\n\n    const closeDetail = () => {\n        forEach(members, elt => {\n            elt.classList.remove('off');\n            elt.classList.remove('on');\n        });\n    };\n\n    const displayDetail = member => {\n        if (gsap.isTweening('#desc')) return;\n\n        gsap.to(desc, 0.3, {\n            opacity: 0,\n            onComplete: () => {\n                member.blur();\n                desc.innerHTML = '';\n\n                if (member.classList.contains('on')) {\n                    closeDetail();\n                    return;\n                }\n\n                forEach(members, elt => {\n                    elt.classList.add('off');\n                    elt.classList.remove('on');\n                });\n                member.classList.remove('off');\n                member.classList.add('on');\n\n                parent = member.parentElement;\n\n                desc.appendChild(parent.querySelector('.name').cloneNode(true));\n                desc.appendChild(parent.querySelector('.function').cloneNode(true));\n                desc.appendChild(parent.querySelector('.team-desc').cloneNode(true));\n                wrapper.appendChild(desc);\n\n                index = [].indexOf.call(members, member);\n                indexPos = (Math.floor(index / row) + 1) * row - 1;\n                indexPos = indexPos >= nbMembers ? nbMembers - 1 : indexPos;\n\n                members[indexPos].parentElement.after(wrapper);\n\n                desc.querySelector('.next').addEventListener(\n                    'click',\n                    () => {\n                        next = members[index + 1] ? members[index + 1] : members[0];\n                        displayDetail(next);\n                    },\n                    false\n                );\n\n                desc.querySelector('.prev').addEventListener(\n                    'click',\n                    () => {\n                        prev = members[index - 1] ? members[index - 1] : members[nbMembers - 1];\n                        displayDetail(prev);\n                    },\n                    false\n                );\n\n                gsap.to(window, { duration: 0.5, scrollTo: member.parentElement });\n                gsap.to(desc, 0.3, { opacity: 1 });\n            }\n        });\n    };\n\n    const resize = () => {\n        wWidth = window.$stereorepo.superWindow.windowWidth;\n        if (wWidth >= 960) {\n            row = 5;\n        } else if (wWidth >= 580) {\n            row = 3;\n        } else {\n            row = 2;\n        }\n    };\n\n    window.$stereorepo.superWindow.initializeWindow();\n    window.$stereorepo.superWindow.addResizeFunction(resize);\n    resize();\n\n    wrapper.className = 'wrapper-desc';\n    desc.className = 'container';\n    desc.id = 'desc';\n    wrapper.appendChild(desc);\n\n    forEach(members, member => {\n        member.addEventListener(\n            'click',\n            () => {\n                displayDetail(member);\n            },\n            false\n        );\n    });\n};\n\nexport default team;\n"],"sourceRoot":""}
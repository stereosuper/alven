/* Mixins */

/// Helper to clear inner floats
/// @author Nicolas Gallagher
/// @link http://nicolasgallagher.com/micro-clearfix-hack/ Micro Clearfix
@mixin clearfix {
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

/// Helper to cut text with an ellipse
@mixin ellipsis {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

/// Helper to size an element
/// @author Hugo Giraudel
/// @param {Length} $width
/// @param {Length} $height
@mixin size($width, $height: $width) {
  width: $width;
  height: $height;
}

// Arrow helper mixin
// ---
// @param [string] $direction: arrow direction
// @param [list] $position: list of offsets and values
// @param [color] $color (inherit): arrow color
// @param [number] $size (1em): arrow size
// ---
@mixin triangle($direction, $position, $color: currentColor, $size: 1em) {
  // Make sure the direction is valid
  @if not index(top right bottom left, $direction) {
    @warn "Direction must be one of top, right, bottom or left.";
  }

  @else {
    @include absolute($position); // Position
    @include size(0); // Size
    content: '';
    z-index: 2;

    border-#{opposite-position($direction)}: $size * 1.5 solid $color;
    $perpendicular-borders: $size solid transparent;

    @if $direction == top or $direction == bottom {
      border-left:   $perpendicular-borders;
      border-right:  $perpendicular-borders;
    }

    @else if $direction == right or $direction == left {
      border-bottom: $perpendicular-borders;
      border-top:    $perpendicular-borders;
    }
  }
}

@mixin aspect-ratio($width, $height) {
  position: relative;
  &:before {
    display: block;
    content: "";
    width: 100%;
    padding-top: ($height / $width) * 100%;
  }
  > .content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
}


// Theme

@mixin themeBg($default : $greyBlue){
  background: $default;
  .theme-magazine &{
      background: $magazine;
  }
  .theme-portfolio &{
      background: $portfolio;
  }
  .theme-we &{
      background: $we;
  }
}
@mixin themeBgHover($default : $greyBlue){
    background: $default;
    .no-js .theme-magazine &, .is-desktop .theme-magazine &{
        background: $magazine;
    }
    .no-js .theme-portfolio &, .is-desktop .theme-portfolio &{
        background: $portfolio;
    }
    .no-js .theme-we &, .is-desktop .theme-we &{
        background: $we;
    }
}

@mixin themeColor($default : $greyBlue){
  color: $default;
  .theme-magazine &{
      color: $magazine;
  }
  .theme-portfolio &{
      color: $portfolio;
  }
  .theme-we &{
      color: $we;
  }
}
@mixin themeColorHover($default : $greyBlue){
    color: $default;
    .no-js .theme-magazine &, .is-desktop .theme-magazine &{
        color: $magazine;
    }
    .no-js .theme-portfolio &, .is-desktop .theme-portfolio &{
        color: $portfolio;
    }
    .no-js .theme-we &, .is-desktop .theme-we &{
        color: $we;
    }
}

@mixin themeBorder($default : $greyBlue){
  border-color: $default;
  .theme-magazine &{
      border-color: $magazine;
  }
  .theme-portfolio &{
      border-color: $portfolio;
  }
  .theme-we &{
      border-color: $we;
  }
}
@mixin themeBorderHover($default : $greyBlue){
    border-color: $default;
    .no-js .theme-magazine &, .is-desktop .theme-magazine &{
        border-color: $magazine;
    }
    .no-js .theme-portfolio &, .is-desktop .theme-portfolio &{
        border-color: $portfolio;
    }
    .no-js .theme-we &, .is-desktop .theme-we &{
        border-color: $we;
    }
}

@mixin btnNoTextBefore(){
    white-space: nowrap;
    overflow: hidden;
    text-indent: 99em;
    line-height: 0;
    &:before{
      float: left;
      margin: 0;
      text-indent: 0;
    }
}


// Fonts
@mixin fontIcon(){
  font-family: 'icomoon' !important;
  speak: none;
  font-style: normal;
  font-weight: 400;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
}

@mixin merriweather($size){
  font-family: $merriweather;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin merriweatherBold($size){
  font-family: $merriweatherBold;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin merriweatherIt($size){
  font-family: $merriweatherIt;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin merriweatherBoldIt($size){
  font-family: $merriweatherBoldIt;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin source($size){
  font-family: $source;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin sourceLight($size){
  font-family: $sourceLight;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin sourceSemiBold($size){
  font-family: $sourceSemiBold;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin sourceBold($size){
  font-family: $sourceBold;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

@mixin sourceBlack($size){
  font-family: $sourceBlack;
  font-size: $size;
  font-weight: 400;
  font-style: normal;
}

"use strict";var postSidebarTop=0,postSidebarWidth=0;function setBtn(e){var t=e.html();return'<span class="before">'+t+'</span><span class="after">'+t+"</span>"}var dragGallery=!1;function setGallery(e,t){var n=e.find("div"),i=0,a=e.closest(".container-small").length?e.closest(".container-small"):e.closest(".container");function o(){n.each(function(){var e=$(this).width(),n=$(this).offset().left+e;n>t||n<e?$(this).addClass("off"):$(this).removeClass("off")})}function s(e){n.last().hasClass("off")?$("#nextImg").removeClass("hidden"):$("#nextImg").addClass("hidden"),n.eq(0).offset().left>=0?$("#prevImg").addClass("hidden"):$("#prevImg").removeClass("hidden")}function l(t){var i=e.data("x")?e.data("x"):0;TweenMax.isTweening(e)||(n.each(function(){$(this).offset().left<10?$(this).addClass("hideLeft"):$(this).removeClass("hideLeft")}),i-="right"===t?n.not(".hideLeft").eq(0).offset().left:$(".hideLeft.off").last().offset().left,TweenMax.to(e,.3,{x:i+"px",onComplete:function(){e.data("x",i),o(),s()}}))}t>767&&!dragGallery?(e.css("opacity",0).imagesLoaded().always(function(){n.each(function(){i+=Math.ceil($(this).width())}),e.width(i).data("width",i),dragGallery=Draggable.create(e,{type:"x",bounds:a,cursor:"grab",throwProps:!0,onDrag:o,onDragStart:function(){e.addClass("grabbing")},onDragEnd:function(){e.removeClass("grabbing")},onThrowComplete:function(){e.data("x",this.x),o(),s(this.x)}}),o(),TweenMax.to(e,.3,{opacity:1})}),$("#nextImg").length||(e.after('<button class="btn-arrow-only left hidden" id="prevImg">Previous image</button><button class="btn-arrow-only" id="nextImg">Next image</button>'),$("#nextImg").on("click",function(e){e.preventDefault(),$(this).blur(),l("right")}),$("#prevImg").on("click",function(e){e.preventDefault(),$(this).blur(),l("left")}))):(void 0!==Draggable.get(e)&&Draggable.get(e).kill(),dragGallery=!1)}var tlHeader=new TimelineMax({paused:!0}).timeScale(4),tlHeaderDone=!1;$(function(){$(document).height();var e,t,n,i,a,o,s,l,r=$(window).height(),d=window.outerWidth,c=d,f=d,h=new ScrollMagic.Controller,p=0,m=$(document).scrollTop(),g=$("html"),u=$("body"),b=$("#header"),v=b.innerHeight(),w=$("#menu-main"),x=$("#mainContent"),C=$("#main"),y=$("#readIndicator"),T=$(".btn"),M=$(".btn-invert"),H=$("#contentHeader"),k=$("#spotlightPost"),O=!1,D=$("#postSidebar"),I=$("#related"),S=$("#menu-responsive"),q=$("#portfolio"),N=[],B=$("#portfolioFilters"),W=B.length?B.offset().top:0,j=$(".dropdown"),A=$(".team"),P=!1,E=$("#fadePage"),F=$(".gallery");function G(e){e.css("height",e.data("height")).removeClass("on")}function z(e,t){if(x.length&&H.length&&!g.hasClass("menu-open")&&(x.hasClass("content-career")?b.addClass("fixed"):e>x.offset().top-v-40?b.addClass("fixed"):b.removeClass("fixed"),b.hasClass("fixed")&&(t<0?b.addClass("on"):b.removeClass("on"))),B.length&&r>700&&d>767){var n=W-v+200;B.hasClass("single-on")?n-=400:e>W-v?B.addClass("fixed"):B.removeClass("fixed"),e>n&&(t<0?B.addClass("on"):B.removeClass("on"))}if(y.length&&(u.hasClass("single-post")||u.hasClass("page-template-default"))&&x.innerHeight()>r){var i=(e-x.offset().top)/(x.innerHeight()-r);TweenMax.set(y,{scaleX:i})}}function L(e){var t=w.find(".anchor");if(t.length){var n=t.find("a").attr("href"),i=n.indexOf("#");if(i>-1){var a=n.substring(i);if($(a).length){var o=$(a).offset().top;e>=o-200&&e<=o+$(a).outerHeight()-200?t.addClass("current-menu-item"):t.removeClass("current-menu-item")}}}}function K(){var e=k.find(".spotlight-post"),t=k.find(".container").innerWidth();function n(){var t=e.eq(0).innerWidth();e.each(function(){var e=$(this).offset().left+t;e>d||e<t?$(this).addClass("off"):$(this).removeClass("off")})}if(n(),d<t)if(O)O[0].enable();else{var i=Math.round($("#spotlightDrag").find(".spotlight-post").first().innerWidth());O=Draggable.create("#spotlightDrag",{type:"x",bounds:k,cursor:"grab",throwProps:!0,edgeResistance:.9,snap:{x:function(e){return Math.round(e/i)*i}},onDrag:n,onDragStart:function(){k.find(".container").addClass("grabbing")},onDragEnd:function(){k.find(".container").removeClass("grabbing")},onThrowComplete:n})}else O&&(O[0].disable(),TweenMax.set(O,{x:"0px"}))}function R(e){TweenMax.set(e,{opacity:0}),e.each(function(t){new ScrollMagic.Scene({triggerElement:e[t]}).triggerHook(.7).setTween(TweenMax.to($(this),.25,{opacity:1})).addTo(h)})}function _(){TweenMax.set([S.find(".menu-title"),S.find(".menu-subtitle")],{y:"-100%",opacity:0}),TweenMax.set(S.find("li"),{y:"-120%",opacity:0})}function Q(n,i,a,o){var s,l='<div class="grid">',r=0,d=0,c=[];var f={3:[-1,0,-1],6:[-2,0,0,-1,-1,-1]},p={3:[1,2,0],6:[2,3,4,1,5,0]},m=Math.ceil(i/a),g=[];for(d=0;d<a;d++)g[d]=m+f[a][d];var u=i-g.reduce(function(e,t){return e+t},0);for(d=0;d<u;d++){g[p[a][d%a]]++}var b=3===a?1:3,v=3===a?3:2;if(clearTimeout(e),clearTimeout(t),N.length)for(;d<N.length;d++)N[d].destroy(!0);for(d=0;d<a;d++)c[d]=[],l+='<div class="po-item-col col-2"></div>';for(l+="</div>",q.find(".container").append(l);r<i;)for(d=0;d<a;d++){var w="";c[d]++,n.eq(r).length&&g[d]>=c[d]&&(d===b&&c[d]===v&&(w='<div class="po-item cta">'+$("#ctaPortfolio").html()+"</div>"),n.eq(r).hasClass("transfered")?w+='<div class="po-item transfered">'+n.eq(r).html()+"</div>":w+='<div class="po-item">'+n.eq(r).html()+"</div>",q.find(".po-item-col").eq(d).append(w),r++)}for(TweenMax.set(q.find(".po-item"),{opacity:0,y:"30%",scale:.8}),d=0;d<i+1;d++)N[d]=new ScrollMagic.Scene({triggerElement:q.find(".po-item")[d]}).triggerHook(.9).setTween(TweenMax.to(q.find(".po-item").eq(d),.25,{opacity:1,y:"0%",scale:1})).addTo(h);q.find("div.grid").find(".transfered").length,s=q.find(".po-item"),function n(i,a){var o=s.not(".transfered"),l=q.find("li").not(".transfered").length,r=Math.floor(Math.random()*l);s.find("a").removeClass("on"),o.eq(a).find("a").addClass("off"),e=setTimeout(function(){q.find("div.grid").hasClass("is-hovered")||o.eq(i).hasClass("cta")||o.eq(i).find("a").addClass("on").removeClass("off")},1500),t=setTimeout(n,3500,r,i)}(0,-1),s.find("a").on("mouseenter",function(){$(this).closest(".po-item").hasClass("cta")||($(this).closest(".po-item").addClass("link-hovered").closest(".grid").addClass("is-hovered"),s.find("a").removeClass("on"),$(this).removeClass("off"))}).on("mouseleave",function(){$(this).closest(".po-item").removeClass("link-hovered").closest(".grid").removeClass("is-hovered"),$(this).addClass("off")}),o&&setTimeout(function(){$("html, body").animate({scrollTop:C.offset().top},400)},400)}function U(e,t){var n,i;function a(t){return ae.filter(function(){var n=$(this),i=!0;return e.forEach(function(e){e[0]!==t&&"all"!==e[1]&&i&&-1===$.inArray(e[1],$("a",n).data(e[0]).split(","))&&(i=!1)}),i})}function o(e){var t=[];a(e).each(function(){var e=$(this).find("a");function n(n){n in t||(t[n]=[]),e.data(n).split(",").forEach(function(e){""!==e&&(t[n][e]=!0)})}n("investment"),n("field"),n("footprint")}),B.find(".dropdown[data-filter="+e+"]").each(function(){var e=$(this),n=e.data("filter");e.find("li").each(function(){var e=$(this),i=e.data(n);"all"!==i&&(t[n]&&i in t[n]?e.removeClass("empty"):e.addClass("empty"))})})}n=a(!1),o("investment"),o("field"),o("footprint"),i=n.length,se=d>767?6:3,q.find("div.grid").remove(),history.pushState(null,null,t),Q(n,i,se,"scroll")}function X(){if(d<=979){var e=$(".team > li").length,t=A.offset().left-20,i=t+A.width(),a=$(".container-team").width();A.find("li").hasClass("open")&&(A.find("> li.open").position().left,A.find("> li.open").offset().left),d>767&&e>5?(TweenMax.set([$(".wrapper-btn-glob.btn-prev"),$(".wrapper-btn-glob.btn-next")],{className:"-=open"}),t<-Math.ceil(2*n)&&TweenMax.set($(".wrapper-btn-glob.btn-prev"),{className:"+=open"}),Math.ceil(i+2*n)>a&&TweenMax.set($(".wrapper-btn-glob.btn-next"),{className:"+=open"})):d<=767&&e>3&&(TweenMax.set([$(".wrapper-btn-glob.btn-prev"),$(".wrapper-btn-glob.btn-next")],{className:"-=open"}),t<-Math.ceil(n)&&TweenMax.set($(".wrapper-btn-glob.btn-prev"),{className:"+=open"}),Math.ceil(i+n)>a&&TweenMax.set($(".wrapper-btn-glob.btn-next"),{className:"+=open"}))}else TweenMax.set($(".wrapper-btn-glob"),{className:"-=open"})}function Y(){TweenMax.set($(".wrapper-btn-glob"),{className:"-=open"})}function J(){d<=979?(s=A.find(".team-member img").eq(0).outerHeight(),TweenMax.set($(".wrapper-btn-glob a"),{top:s/2+"px"}),P?(d<=767?(n=$(".container-team").width()/3,i=n):(n=$(".container-team").width()/5,i=2*n),TweenMax.set(A.find("> li"),{width:n+"px"}),a=0,A.find("> li").each(function(){a+=$(this).outerWidth()}),a+=2*i,TweenMax.set(A,{width:a+"px",padding:"0 "+i+"px",x:-i}),o=n,P=Draggable.create(".team",{type:"x",bounds:$(".container-team"),cursor:"grab",throwProps:!0,edgeResistance:.9,dragClickables:!0,snap:{x:function(e){return Math.round(e/o)*o}},onDragStart:function(){Y();var e=$(".team.member-open > li.open");he=$(".desc",e),pe=new TimelineMax,$(window).width()>979?(pe.to(he,.25,{opacity:0,visibility:"hidden"}),pe.to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut})):(pe.to(Me,.25,{opacity:0}),pe.to(Me,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut})),pe.set(e,{className:"-=open"}),pe.set(A,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut}),A.addClass("grabbing")},onDragEnd:function(){A.removeClass("grabbing")}})):(d<=767?(n=$(".container-team").width()/3,i=n):(n=$(".container-team").width()/5,i=2*n),TweenMax.set(A.find("> li"),{width:n+"px"}),a=0,A.find("> li").each(function(){a+=$(this).outerWidth()}),a+=2*i,TweenMax.set(A,{width:a+"px",padding:"0 "+i+"px",x:-i}),o=n,P=Draggable.create(".team",{type:"x",bounds:$(".container-team"),cursor:"grab",throwProps:!0,edgeResistance:.9,dragClickables:!0,snap:{x:function(e){return Math.round(e/o)*o}},onDragStart:function(){Y();var e=$(".team.member-open > li.open");he=$(".desc",e),pe=new TimelineMax,d>979?(pe.to(he,.25,{opacity:0,visibility:"hidden"}),pe.to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut})):(pe.to(Me,.25,{opacity:0}),pe.to(Me,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut})),pe.set(e,{className:"-=open"}),pe.set(A,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut}),A.addClass("grabbing")},onDragEnd:function(){A.removeClass("grabbing")}}))):P&&(TweenMax.set(A,{clearProps:"all"}),TweenMax.set(A.find("> li"),{clearProps:"width"}),P[0].disable())}function V(){Y();var e=$(".team.member-open > li.open");he=$(".desc",e),pe=new TimelineMax,d>979?pe.to(he,.25,{opacity:0,visibility:"hidden"}).to(e,.5,{paddingBottom:"0",ease:Cubic.easeInOut}):pe.to(Me,.25,{opacity:0}).to(Me,.5,{height:"0",visibility:"hidden",ease:Cubic.easeInOut}),pe.set(e,{className:"-=open"}).set(A,{className:"-=member-open"}),TweenMax.to($(".wrapper-btn-glob"),.5,{height:"100%",ease:Cubic.easeInOut})}function Z(){var e=$(this);e.is("[type=submit]")||(e.val()?e.addClass("filled"):e.removeClass("filled"))}function ee(e){var t=e.parents(".form-to-open"),n=e.find("+ .form-section");t.find("legend").removeClass("active"),TweenMax.to(t.find(".form-section"),.2,{height:0,ease:Power2.easeInOut}),e.addClass("active"),TweenMax.to(n,.2,{height:n.data("height"),ease:Power2.easeInOut,onComplete:function(){n.find(".form-elt").eq(0).focus()}})}function te(e){e.find("legend").addClass("active"),e.find(".form-section").each(function(){TweenMax.to($(this),.2,{height:$(this).data("height")})}).find(".form-elt").each(function(){$(this).attr("required")&&!$(this).val()&&$(this).addClass("invalid").closest(".form-section").addClass("invalid")})}if(function(){function e(e){TweenMax.set(e,{opacity:0}),e.each(function(t){new ScrollMagic.Scene({triggerElement:e[t]}).triggerHook(.9).setTween(TweenMax.to($(this),.25,{opacity:1})).addTo(h)})}if(u.hasClass("page-template-careers")||u.hasClass("single-job")){var t=$(".js-list-jobs").find("a"),n=$(".js-details-job-sidebar").find(".company-info"),i=$(".js-list-random-jobs").find("a");t.length&&e(t),n.length&&e(n),i.length&&e(i)}if(u.hasClass("single-job")){var a=$(".js-job-details-tab");a.length&&a.on("click","h2",function(){if(window.innerWidth<=767){var e=$(this).parent(),t=e.index(),n=0;a.each(function(e,n){if(e!==t){var i=$(n);i.css({maxHeight:i.find("h2").outerHeight(!0)}),i.removeClass("active")}}),e.hasClass("active")?n=$(this).outerHeight(!0):e.children().each(function(e,t){n+=$(t).outerHeight(!0)}),e.css({maxHeight:n});var i=e.css("transition-duration"),o=0;-1!==i.indexOf("ms")?o+=parseInt(i.replace("ms"),10):o+=1e3*parseFloat(i.replace("s")),setTimeout(function(){var t=e.offset().top-b.outerHeight();TweenMax.to(window,.5,{scrollTo:{y:t},ease:Cubic.easeOut})},o),e.toggleClass("active")}})}}(),isMobile.any?g.addClass("is-mobile"):g.addClass("is-desktop"),u.hasClass("home")||z(m,0),!Modernizr.objectfit&&$(".img-fit").length&&$(".img-fit").each(function(){var e=$(this),t=e.find("img").prop("src");t&&e.css("backgroundImage","url("+t+")").addClass("compat-object-fit")}),T.length&&T.each(function(e){T.eq(e).html(setBtn(T.eq(e)))}),M.length&&M.each(function(e){M.eq(e).html(setBtn(M.eq(e)))}),x.length){if(x.find("img").length){var ne=x.find("img").not(".no-scroll");u.hasClass("page-template-careers")||u.hasClass("single-job")||R(ne)}x.find(".special-cat").length&&R(x.find(".special-cat"))}if(D.length&&(postSidebarTop=D.offset().top,postSidebarWidth=D.innerWidth()),k.length&&(K(),TweenMax.set(k.find(".spotlight-post"),{y:"-120%"}),new ScrollMagic.Scene({triggerElement:"#spotlightPost"}).triggerHook(.9).setTween(TweenMax.staggerTo(k.find(".spotlight-post"),.25,{y:"0%"},.1)).addTo(h)),I.length){var ie=I.find(".read-also-post");TweenMax.set(ie,{opacity:0}),new ScrollMagic.Scene({triggerElement:"#related"}).triggerHook(.7).setTween(TweenMax.staggerTo(ie,.25,{opacity:1},.1)).addTo(h)}if(q.length){var ae=q.find("li"),oe=ae.length,se=d>767?6:3,le=[];window.location.search&&(le=(le=function(){for(var e,t=[],n=0,i=window.location.search.substr(1).split("&");n<i.length;n++)e=i[n].split("="),t[n]=[unescape(e[0]),e.length>1?unescape(e[1]):""];return t}()).filter(function(e){return"investment"===e[0]||"field"===e[0]||"footprint"===e[0]})),le.length?function(e){var t=B.find(".dropdown");t.each(function(n){var i=t.eq(n);if(void 0!==e[n]){var a=i.find("[data-"+e[n][0]+"="+e[n][1]+"]");a.siblings().removeClass("actif"),a.addClass("actif").clone().prependTo(i),a.remove()}else{var o=i.data("filter");e[n]=[o,i.find(".actif").data(o)]}}),U(e,window.location.href)}(le):Q(ae,oe,se),B.on("click","li",function(){var e=$(this);if(!e.hasClass("actif")){var t=[],n=B.find(".dropdown"),i=window.location.origin+window.location.pathname+"?";e.siblings().removeClass("actif"),e.addClass("actif").clone().prependTo(e.parents(".dropdown")),e.remove(),n.each(function(e){var n=$(this).data("filter");t[e]=[n,$(this).find(".actif").data(n)],0!==e&&(i+="&"),i+=t[e][0]+"="+t[e][1]}),U(t,i)}})}if(A.length){var re,de,ce,fe,he,pe,me,ge,ue,be,ve,we,$e,xe,Ce,ye,Te=A.find(".team-member"),Me=$(".content-desc-responsive");J(),X(),Te.on("click",function(e){e.preventDefault(),function(e){if(ce=e.closest("li"),re=$(".desc",ce),de=re.outerHeight(),!TweenMax.isTweening(A.find("li"))&&!TweenMax.isTweening(A.find(".desc"))&&!TweenMax.isTweening($(".wrapper-btn-glob")))if(A.hasClass("member-open"))if(ce.hasClass("open"))V();else{var t=$(".team.member-open > li.open");he=$(".desc",t),pe=new TimelineMax,d>979?(l=A.offset().top+ce.position().top-120,t.offset().top<ce.offset().top&&(l-=parseFloat(t.css("paddingBottom"))),pe.to(he,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),pe.set(ce,{className:"+=open"}).add("paddingAnimation").to(t,.5,{paddingBottom:"0",ease:Cubic.easeInOut},"paddingAnimation").to(ce,.25,{paddingBottom:de+"px",ease:Cubic.easeIn},"paddingAnimation").to(window,.5,{scrollTo:{y:l},ease:Cubic.easeOut},"paddingAnimation"),pe.to(re,.25,{opacity:1,visibility:"visible"})):(l=ce.offset().top-120,pe.to(Me,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),pe.set(ce,{className:"+=open",onComplete:function(){Me.html(re.html()),TweenMax.set(Me,{height:"auto",position:"absolute"}),$e=Me.outerHeight(),TweenMax.set(Me,{height:"0",position:"relative"}),pe.add("heightAnimation").to(Me,.5,{height:$e+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:l},ease:Cubic.easeOut},"heightAnimation").to(Me,.25,{opacity:1,visibility:"visible"}),xe=ce.position().left,Ce=$(".container-team").width(),ye=xe-Ce/2+ce.outerWidth()/2,TweenMax.to(A,.5,{x:-ye,ease:Cubic.easeOut,onComplete:X})}}))}else if(l=ce.offset().top-120,TweenMax.set(A,{className:"+=member-open"}),(fe=new TimelineMax).set(ce,{className:"+=open"}),X(),d>979)fe.add("paddingAnimation").to(ce,.5,{paddingBottom:de+"px",ease:Cubic.easeOut},"paddingAnimation").to(window,.5,{scrollTo:{y:l},ease:Cubic.easeOut},"paddingAnimation").to(re,.25,{opacity:1,visibility:"visible"});else{Me.html(re.html()),TweenMax.set(Me,{height:"auto",position:"absolute"}),$e=Me.outerHeight(),TweenMax.set(Me,{height:"0",position:"relative"}),fe.add("heightAnimation").to(Me,.5,{height:$e+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:l},ease:Cubic.easeOut},"heightAnimation").to(Me,.25,{opacity:1,visibility:"visible"});var n=Math.max.apply(null,A.find(".team-member").map(function(){return $(this).height()}).get());TweenMax.to($(".wrapper-btn-glob"),.5,{height:n+10+"px",ease:Cubic.easeInOut}),xe=ce.position().left,Ce=$(".container-team").width(),ye=xe-Ce/2+ce.outerWidth()/2,TweenMax.to(A,.5,{x:-ye,ease:Cubic.easeOut,onComplete:X})}}($(this))}),$(".btn-desc > li a").on("click",function(e){e.preventDefault(),function(e){if(!TweenMax.isTweening(A.find("li"))&&!TweenMax.isTweening(A.find(".desc"))&&!TweenMax.isTweening($(".wrapper-btn-glob"))){var t=$(".team.member-open > li.open");he=$(".desc",t),(pe=new TimelineMax).to(he,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),me=e.hasClass("left")?t.prev().length?t.prev():A.find("> li").last():t.next().length?t.next():A.find("> li").first(),l=t.offset().top<me.offset().top?A.offset().top+me.position().top-parseFloat(t.css("paddingBottom"))-120:me.offset().top-120,ge=$(".desc",me),ue=ge.outerHeight(),pe.set(me,{className:"+=open"}).add("paddingAnimation").to(me,.25,{paddingBottom:ue+"px",ease:Cubic.easeIn},"paddingAnimation").to(t,.5,{paddingBottom:"0",ease:Cubic.easeOut},"paddingAnimation").to(window,.5,{scrollTo:{y:l},ease:Cubic.easeOut},"paddingAnimation").to(ge,.25,{opacity:1,visibility:"visible"})}}($(this))}),$(".container-team .wrapper-btn-glob a").on("click",function(e){e.preventDefault(),function(e){if(!(TweenMax.isTweening(A.find("li"))||TweenMax.isTweening(A.find(".desc"))||TweenMax.isTweening($(".wrapper-btn-glob"))||TweenMax.isTweening(A)))if(X(),e.closest(".wrapper-btn-glob").hasClass("open")&&(e.hasClass("left")?TweenMax.to(A,.25,{x:"+="+n,ease:Cubic.easeInOut}):TweenMax.to(A,.25,{x:"-="+n,ease:Cubic.easeInOut})),d<=979&&A.hasClass("member-open")&&e.closest(".wrapper-btn-glob").hasClass("open")){var t=$(".team.member-open > li.open");he=$(".desc",t),(pe=new TimelineMax).to(Me,.25,{opacity:0,visibility:"hidden"}).set(t,{className:"-=open"}),me=e.hasClass("left")?t.prev():t.next(),l=me.offset().top-120,ge=$(".desc",me),pe.set(me,{className:"+=open",onComplete:function(){Me.html(ge.html()),TweenMax.set(Me,{height:"auto",position:"absolute"}),$e=Me.outerHeight(),TweenMax.set(Me,{height:"0",position:"relative"}),pe.add("heightAnimation").to(Me,.5,{height:$e+"px",ease:Cubic.easeInOut},"heightAnimation").to(window,.5,{scrollTo:{y:l},ease:Cubic.easeOut},"heightAnimation").to(Me,.25,{opacity:1,visibility:"visible",onComplete:X})}})}else Y()}($(this))}),$(".container-team").on("click",".btn-cross",function(e){e.preventDefault(),V()})}if(S.length&&_(),$("a").length){var He=location.protocol+"//"+location.host,ke=He+location.pathname;$("a").each(function(){var e=$(this).attr("href"),t=e.indexOf("#");if("#"!==e&&"_blank"!==$(this).attr("target"))if(0===t)$(this).addClass("scroll-anchor");else if(t>-1){var n=e.substring(0,t);"/"!==n.slice(-1)&&(n+="/"),ke===n&&$(this).attr("href",e.substring(t)).addClass("scroll-anchor")}else 0===e.indexOf(He)&&$(this).addClass("fade-page-link")})}if(u.on("click",".scroll-anchor",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(this.hash).offset().top-150},500),$(this).blur()}),u.on("click",".fade-page-link",function(e){if(!$(this).hasClass("ajax-load")&&!(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)){var t=$(this).attr("href");e.preventDefault(),TweenMax.to(E,.2,{opacity:0,onComplete:function(){window.location.href=t}})}}),w.length){var Oe=w.find(".current-menu-item");if(Oe.length)Oe.find("a").attr("href").indexOf("#")>-1&&(Oe.removeClass("current-menu-item").addClass("anchor"),L(m))}if(j.on("click",function(){var e=$(this),t=2,n=j.not(e);e.hasClass("on")?G(e):(e.data("height",e.css("height")).find("li").each(function(){t+=$(this).outerHeight()}),e.css("height",t).addClass("on")),n.each(function(){G($(this))})}),$("#burger").on("click",function(e){e.preventDefault(),g.toggleClass("menu-open"),g.hasClass("menu-open")?setTimeout(function(){for(var e=0,t=S.find(".menu-small").length;e<t;e++)TweenMax.to(S.find(".menu-title").eq(e),.25,{y:"0%",opacity:1,z:.01,force3D:!0}),TweenMax.to(S.find(".menu-subtitle").eq(e),.25,{y:"0%",opacity:1,z:.01,force3D:!0}).delay(.05),TweenMax.staggerTo(S.find(".menu-small").eq(e).find("li"),.25,{y:"0%",opacity:1,z:.01,force3D:!0},.08)},380):_()}),$("input").length){if($(":input").each(Z).on("change",Z).on("focus",function(){$(this).attr("autocomplete","on")}),$("label").length&&$("label").not("[for=search-header]").css("opacity",1),$("input[type=file]").length)$("input[type=file]").each(function(){var e=$(this);e.after('<button type="button" class="inputFile btn-invert form-elt">'+$(this).siblings("label").html()+"</button>").css("display","none").siblings("label").css("display","none"),$(".inputFile").on("click",function(t){t.preventDefault(),e.click()}).each(function(){$(this).html(setBtn($(this)))}),e.on("change",function(){$(this).siblings(".form-desc").html($(this)[0].files[0].name)})});var De=$(".form-search"),Ie=$(".form-search-header");De.on("submit",function(e){var t=$(this).find("input");t.val()||(e.preventDefault(),t.focus(),$(this).hasClass("form-search-header")&&$(this).toggleClass("on"))}),Ie.on("focusout",function(){$(this).find("input").val()?$(this).addClass("on"):$(this).removeClass("on")}).on("submit",function(e){d<=540&&(e.preventDefault(),window.location.href=$(this).attr("action")+"?s=")});var Se=$(".form-to-open"),qe=$(".open-form");Se.length&&(Se.each(function(){$(this).find(".form-section").each(function(){$(this).data("height",$(this).height()).css("height",0)}).eq(0).css("height",$(this).find(".form-section").eq(0).data("height"))}).css({display:"none",opacity:0}).each(function(){$(this).hasClass("form-open-error")&&($(this).css({display:"block",opacity:1}).siblings("button").css("display","none"),te($(this)))}),$(".form-wrkbl-to-open").css({display:"block",opacity:1})),qe.on("click",function(e){var t=$(this),n=t.parents(".interactive-block");e.preventDefault(),TweenMax.to(n.siblings().find(".form-to-open"),.2,{opacity:0,ease:Power2.easeIn,onComplete:function(){$(".interactive-block").hasClass("open")&&n.siblings().find(".form-to-open").css("display","none")}}),n.addClass("on").removeClass("off").siblings().removeClass("on").addClass("off"),TweenMax.set(n.siblings().find(".open-form"),{display:"inline-block",delay:.3}),TweenMax.to(n.siblings().find(".open-form"),.3,{opacity:1,delay:.3,ease:Power2.easeInOut}),TweenMax.to(t,.3,{opacity:0,ease:Power2.easeInOut,onComplete:function(){t.css("display","none")}}),$(".interactive-block").hasClass("open")&&TweenMax.set(n.find(".form-to-open"),{display:"block",delay:.3}),TweenMax.to(n.find(".form-to-open"),.2,{opacity:1,delay:.3,ease:Power2.easeOut,onComplete:function(){n.find(".form-to-open").find(".form-elt").eq(0).focus()}}),$(".interactive-block").hasClass("open")?d<=767&&$(".interactive-block").removeClass("open"):(n.siblings().find(".form-to-open").slideUp(300,"easeInQuad"),n.find(".form-to-open").delay(300).slideDown(300,"easeOutQuad",function(){d>767&&$(".interactive-block").addClass("open").css("minHeight",n.height())})),$("html, body").animate({scrollTop:n.offset().top},200)}),Se.on("click","legend",function(){ee($(this))}).on("focusout",".form-elt",function(){var e=$(this).parents(".form-to-open"),t=e.find(".form-section").length,n=$(this).closest(".form-section"),i=$(this).closest(".form-section").find(".form-elt").length;e.find(".form-section").index(n)<t-1&&$(this).parents("div").index()===i-1&&(ee(e.find(".form-section").eq(n.index()).siblings("legend")),$("html, body").animate({scrollTop:e.offset().top},300))}).on("input change",".form-elt",function(){var e=!0,t=$(this).closest(".form-to-open").find("button[type=submit]");$(this).closest(".form-to-open").find(".form-elt").each(function(){$(this).attr("required")&&!$(this).val()&&(e=!1)}),e?t.addClass("on"):t.removeClass("on")}).on("click","button[type=submit]",function(e){if(!$(this).hasClass("on")){var t=$(this).parents(".form-to-open");e.preventDefault(),te(t)}})}var Ne=$("#mjForm");function Be(){var e=$("#main"),t=$("#contentHeader"),n=$(".gallery"),i=$("#postSidebar"),a=[],o=window.outerWidth;$(".wrapper-video path").each(function(e){a[e]=new TweenMax.from(this,.1,{opacity:0,x:0})}),tlHeader.play(),tlHeaderDone=!0,a.forEach(function(e,t){tlHeader.add(e)});tlHeader.tweenFromTo(0,tlHeader.duration(),{ease:Power4.easeOut});var s=$("#video"),l=s.find("source");s.length&&o>979&&(l.attr("src",l.data("src")),s[0].load(),s[0].play()),t.length&&(t.find("h1").length&&($("body").hasClass("home")?TweenMax.fromTo(t.find("h1"),.3,{opacity:0,y:100},{opacity:1,y:0,delay:1}):TweenMax.fromTo(t.find("h1"),.3,{opacity:0,y:100},{opacity:1,y:0})),e.length&&e.css("marginTop",Math.floor(t.outerHeight()))),i.length&&(postSidebarTop=i.offset().top,postSidebarWidth=i.innerWidth()),n.length&&n.each(function(){setGallery($(this),$(window).width())}),function(){var e=$("body");if(e.hasClass("page-template-careers")||e.hasClass("single-job")){var t=$("#header").outerHeight(),n=document.getElementsByClassName("js-details-job-sidebar")[0],i=document.getElementsByClassName("js-company-search-wrapper")[0];collant(i,t,{minimumWidth:979,updateHeightOnScroll:!0,offsetBottom:200}),collant(n,t,{minimumWidth:767,updateHeightOnScroll:!0})}}()}Ne.length&&(Ne.find("#mailjet_widget_email").attr("placeholder","").after('<label for="email" style="opacity:1">Your email</label>'),Ne.append('<button type="submit" name="submit" class="btn-invert">Signup</button>'),Ne.find("input[type=submit]").remove(),Ne.find("button").html(setBtn(Ne.find("button")))),$(document).on("scroll",function(){var e=$(document).scrollTop();z(e,function(e){var t=e>p?-1:1;return p=e,t}(e)),H.length&&!isMobile.any&&(e>20?TweenMax.to(H.find("h1"),.2,{y:"-50px",opacity:0}):TweenMax.to(H.find("h1"),.2,{y:"0px",opacity:1}),H.find(".img").length&&TweenMax.set(H.find(".img"),{y:"-"+e/40+"%"}),H.find(".menu-home").length&&TweenMax.set(H.find(".menu-home"),{y:"-"+e/4+"px"})),D.length&&x.length&&!isMobile.any&&function(e){var t=D.innerHeight(),n=x.offset().top,i=x.innerHeight();t<i+40&&t+v+20<r?e>=postSidebarTop-v-20?(e+t+v+20>n+i-20?D.css({top:i-20-t+20,width:postSidebarWidth}).removeClass("fixed").addClass("fixedBot"):D.css({top:v+20,width:postSidebarWidth}).removeClass("fixedBot").addClass("fixed"),e>(i+n)/2?(D.find("li").eq(0).find(".img").addClass("off"),D.find("li").eq(1).find(".img").addClass("on")):(D.find("li").eq(0).find(".img").removeClass("off"),D.find("li").eq(1).find(".img").removeClass("on"))):D.css({top:0,width:postSidebarWidth}).removeClass("fixed fixedBot"):D.css({top:0}).removeClass("fixed fixedBot")}(e),w.length&&L(e)}),$(window).on("resize",function(){$(document).height(),r=$(window).height(),d=window.outerWidth;var e=$(".js-job-details-tab");if(e.length&&f!==d&&(window.innerWidth>767?"max-content"!=e.css("maxHeight")&&(e.css({maxHeight:"max-content"}),e.removeClass("active")):e.each(function(e,t){var n=$(t),i=n.find(".job-single-title").outerHeight(!0);parseFloat(n.css("maxHeight").replace("px",""))!=i&&(n.css({maxHeight:i}),$(t).removeClass("active"))})),d>979&&g.removeClass("menu-open"),C.length&&H.length&&C.css("marginTop",Math.floor(H.outerHeight())),D.length&&(D.css({top:0,width:"20%"}).removeClass("fixed fixedBot"),postSidebarTop=D.offset().top,postSidebarWidth=D.innerWidth()),k.length&&K(),q.length){var t=d>767?6:3;t!==se&&q.find("div.grid")&&(q.find("div.grid").remove(),Q(ae,oe,se=t))}c!==d&&A.length&&(A.hasClass("member-open")&&(TweenMax.set($(".team.member-open > li.open .desc"),{clearProps:"all"}),TweenMax.set($(".team.member-open > li.open"),{className:"-=open",clearProps:"all"}),TweenMax.set($(".content-desc-responsive"),{clearProps:"all"}),TweenMax.set(A,{className:"-=member-open"}),be=$(".team.member-open > li.open"),ve=$(".desc",be),we=ve.outerHeight(),TweenMax.set(be,{paddingBottom:we+"px",ease:Cubic.easeInOut})),J(),X()),F.length&&F.each(function(){setGallery($(this),$(window).width())}),f=d,r}),"complete"===document.readyState?Be():$(window).on("load",Be)});